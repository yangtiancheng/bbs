<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>æŠ€æœ¯å°å“¥</title>
  
  <subtitle>æ€»ç»“ä¸€å°ºï¼Œæˆé•¿ä¸€å¯¸</subtitle>
  <link href="/bbs.github.io/atom.xml" rel="self"/>
  
  <link href="https://yangtiancheng.github.io/bbs.github.io/"/>
  <updated>2019-04-06T01:18:49.249Z</updated>
  <id>https://yangtiancheng.github.io/bbs.github.io/</id>
  
  <author>
    <name>æ¨å¤©æˆ</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Odoo æµ…è°ˆOdooæä¾›çš„é™„ä»¶æœºåˆ¶</title>
    <link href="https://yangtiancheng.github.io/bbs.github.io/Odoo-%E6%B5%85%E8%B0%88Odoo%E6%8F%90%E4%BE%9B%E7%9A%84%E9%99%84%E4%BB%B6%E6%9C%BA%E5%88%B6/"/>
    <id>https://yangtiancheng.github.io/bbs.github.io/Odoo-æµ…è°ˆOdooæä¾›çš„é™„ä»¶æœºåˆ¶/</id>
    <published>2019-04-06T09:13:38.000Z</published>
    <updated>2019-04-06T01:18:49.249Z</updated>
    
    <content type="html"><![CDATA[<p>Odooæä¾›çš„é™„ä»¶æœºåˆ¶</p><p><img src="https://img-blog.csdn.net/20180326101437554?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI5NjU0MzI1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><a id="more"></a><p>å­˜å‚¨ä½ç½®å¯é…ç½®ï¼š<br>&emsp;&emsp;é€šè¿‡ è®¾ç½®-å‚æ•°-ç³»ç»Ÿå‚æ•° å®šä¹‰çš„å…³é”®å­—ir_attachment.locationæ¥æ§åˆ¶é™„ä»¶çš„å­˜å‚¨æ–¹å¼ã€‚<br><img src="https://img-blog.csdn.net/2018032610183484?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI5NjU0MzI1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><ul><li>1.å¦‚æœæœªç»´æŠ¤è®°å½•æˆ–è€…ç»´æŠ¤è®°å½•å€¼ä¸ä¸ºdbï¼Œé»˜è®¤å­˜å‚¨è·¯å¾„ä¸ºåº”ç”¨æœåŠ¡å™¨ä¸Šçš„/var/lib/odoo/filestore/æ•°æ®åº“åç§°/æ–‡ä»¶å¤¹,ä¾‹å¦‚/var/lib/odoo/filestore/ 868/9cã€‚</li></ul><ul><li>2.å°†æ–‡ä»¶çš„è·¯å¾„å†™å…¥store_fnameå­—æ®µï¼Œfile_sizeè¡¨ç¤ºæ–‡ä»¶å¤§å°ï¼Œdb_datasè¡¨ç¤ºæ–‡ä»¶ä»¥äºŒè¿›åˆ¶çš„å½¢å¼å­˜å‚¨åœ¨æ•°æ®åº“ä¸­(è¿™é‡Œä¸ºç©º)ã€‚</li></ul><ul><li>3.å¦‚æœç»´æŠ¤è®°å½•å€¼ä¸ºdbï¼Œåˆ™ä»¥binaryçš„å½¢å¼å­˜å‚¨åœ¨æ•°æ®åº“è¡¨db_datasä¸­ã€‚</li></ul><h2 id="ä¸ªäººæ€»ç»“"><a href="#ä¸ªäººæ€»ç»“" class="headerlink" title="ä¸ªäººæ€»ç»“"></a>ä¸ªäººæ€»ç»“</h2><ol><li><p>å¯é…ç½®å­˜å‚¨æ–¹å¼:<br>æˆ‘ä»¬çš„æ‰€æœ‰é™„ä»¶æ•°æ®å¯ä»¥é€‰æ‹©ä¿å­˜åœ¨æ•°æ®åº“db_datasä¸­ï¼Œè¿˜æ˜¯åº”ç”¨æœåŠ¡å™¨/var/lib/odoo/æ•°æ®åº“å/sha1[:2]ä¸­ã€‚<br>å¦‚æœä¿å­˜åœ¨åº”ç”¨æœåŠ¡å™¨ä¸­ï¼Œç³»ç»Ÿçš„æ•°æ®åº“ä¼šæ›´åŠ è½»ä¾¿ï¼Œè€Œä¸”é™„ä»¶ä½¿ç”¨base64ç¼–ç æ–‡ä»¶ï¼Œé€šè¿‡sha1æ–¹å¼ç»™æ¯ä¸€ä¸ªé™„ä»¶æ–‡ä»¶æ ‡å®šä¸ºå”¯ä¸€çš„è®°å½•datas_fnameï¼Œå¦‚æœä¸Šä¼ ç›¸åŒçš„æ–‡ä»¶ï¼Œæ•°æ®åº“store_fnameè®°å½•åªéœ€è¦æ”¾å…¥æ–‡ä»¶çš„æœåŠ¡å™¨è½¯åœ°å€ï¼Œä¸éœ€è¦å†å°†æ–‡ä»¶ä¸Šä¼ ï¼ŒåŠ é€Ÿäº†ä¸Šä¼ çš„æ•ˆç‡ã€‚</p></li><li><p>åŒä¸€è®°å½•å•æˆ–ä¸åŒè®°å½•å•ï¼Œç›¸åŒçš„æ–‡ä»¶åªä¼šä¸Šä¼ ä¸€æ¬¡:<br>æ•°æ®åº“è®°å½•åªéœ€è¦æ”¾å…¥ç›¸å…³çš„è®¿é—®åœ°å€ï¼Œéœ€è¦æ—¶ç›´æ¥è¯»å–ï¼Œé˜²æ­¢å¤šä½™çš„ç©ºé—´æµå¤±ã€‚HRPç°æœ‰çš„èµ„è´¨çš„é™„ä»¶ä¸Šä¼ æ–¹å¼ï¼Œé‡‡ç”¨æ•°æ®åº“ç›´æ¥å­˜å–äºŒè¿›åˆ¶æ–‡ä»¶å½¢å¼ï¼Œä¸Šä¼ æ–‡ä»¶å°±æ¥æ”¶ï¼Œä¸æ ¡éªŒï¼Œä¸æ™ºèƒ½ï¼Œæ•°æ®å†—ä½™ï¼Œä½¿å¾—æ•°æ®åº“è‡ƒè‚¿ä¸å ªã€‚</p></li><li><p>æƒé™æ£€æŸ¥-æ›´å®‰å…¨ï¼š<br>å¯¹ç³»ç»Ÿé™„ä»¶çš„æ¯ä¸€ç§ç±»å‹çš„æ“ä½œï¼Œodooæºç é™„ä»¶æœºåˆ¶éƒ½ä¼šæ£€éªŒæƒé™æ˜¯å¦æ»¡è¶³ï¼Œåªæœ‰é™„ä»¶ä¸Šä¼ è€…ã€è¶…çº§ç®¡ç†å‘˜ã€ç®¡ç†ç»„ç”¨æˆ·æ‰å¯ä»¥å¯¹ç›¸å…³é™„ä»¶è¿›è¡Œé«˜çº§æ“ä½œï¼Œä¿è¯äº†æ“ä½œé™„ä»¶çš„å®‰å…¨æ€§ã€‚</p></li></ol><ol start="4"><li><p>ä¸æ˜“ä¸¢å¤±:<br>é€‰æ‹©åº”ç”¨æœåŠ¡å™¨ä¿å­˜é™„ä»¶ï¼Œæç«¯æƒ…å†µä¸‹ï¼Œå½“æ•°æ®åº“æ•°æ®ä¸¢å¤±æˆ–æŸåæ—¶ï¼Œå­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯çš„é™„ä»¶ä¸ä¼šå—åˆ°æ³¢åŠï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚</p></li><li><p>å¼‚æ­¥å¤‡ä»½ï¼š<br>è™½ç„¶çœ‹èµ·æ¥æ—¢è¦å¤‡ä»½æ•°æ®åº“ï¼Œåˆè¦å¤‡ä»½åº”ç”¨æœåŠ¡å™¨çš„é™„ä»¶éƒ¨åˆ†ï¼Œæ“ä½œæ­¥éª¤å˜å¤šäº†ã€‚ä½†åˆ†æ­¥å¤‡ä»½ä¿è¯äº†æ•°æ®åº“å¿«é€Ÿå¤‡ä»½ï¼ŒæœåŠ¡å™¨é™„ä»¶ä¼ è¾“è¦æ±‚å¹¶ä¸åƒæ•°æ®åº“å¤‡ä»½æ—¶ï¼Œè¦æ±‚å¿«é€Ÿã€è½»ä¾¿ï¼Œæ‰€ä»¥è¿™æ ·çš„æœºåˆ¶æ›´é€‚åˆ</p></li></ol><p>###å¦‚æœ‰ç†è§£é”™è¯¯çš„åœ°æ–¹ï¼Œè¯·å¤§å®¶æŒ‡æ­£.</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Odooæä¾›çš„é™„ä»¶æœºåˆ¶&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://img-blog.csdn.net/20180326101437554?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzI5NjU0MzI1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70&quot; alt=&quot;è¿™é‡Œå†™å›¾ç‰‡æè¿°&quot;&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="Odoo" scheme="https://yangtiancheng.github.io/bbs.github.io/tags/Odoo/"/>
    
  </entry>
  
  <entry>
    <title>Odoo12-M2må­—æ®µæ·»åŠ ä¸€è¡Œå¼¹å‡ºæ¡†å†…å®¹ä¸ªæ€§åŒ–æŒ‡å®šè§†å›¾+actionè‡ªå®šä¹‰æŒ‡å®šè§†å›¾</title>
    <link href="https://yangtiancheng.github.io/bbs.github.io/Odoo12-M2m%E5%AD%97%E6%AE%B5%E6%B7%BB%E5%8A%A0%E4%B8%80%E8%A1%8C%E5%BC%B9%E5%87%BA%E6%A1%86%E5%86%85%E5%AE%B9%E4%B8%AA%E6%80%A7%E5%8C%96%E6%8C%87%E5%AE%9A%E8%A7%86%E5%9B%BE-action%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E5%AE%9A%E8%A7%86%E5%9B%BE/"/>
    <id>https://yangtiancheng.github.io/bbs.github.io/Odoo12-M2må­—æ®µæ·»åŠ ä¸€è¡Œå¼¹å‡ºæ¡†å†…å®¹ä¸ªæ€§åŒ–æŒ‡å®šè§†å›¾-actionè‡ªå®šä¹‰æŒ‡å®šè§†å›¾/</id>
    <published>2019-04-06T08:58:57.000Z</published>
    <updated>2019-04-06T00:59:32.050Z</updated>
    
    <content type="html"><![CDATA[<p>m2må­—æ®µçš„contextå±æ€§æ¥æ”¶ä¸€ä¸ª tree_view_ref å±æ€§ï¼Œé€šè¿‡å®ƒæŒ‡å®šç‰¹å®šçš„æ‰“å¼€è§†å›¾å³å¯ã€‚<br>ä¸¾ä¸ªä¾‹å­ï¼š</p><h3 id="1-é¦–å…ˆè‡ªå®šä¹‰ä¸€ä¸ªæ‰“å¼€å­—æ®µæ¨¡å‹çš„treeè§†å›¾ï¼š"><a href="#1-é¦–å…ˆè‡ªå®šä¹‰ä¸€ä¸ªæ‰“å¼€å­—æ®µæ¨¡å‹çš„treeè§†å›¾ï¼š" class="headerlink" title="1. é¦–å…ˆè‡ªå®šä¹‰ä¸€ä¸ªæ‰“å¼€å­—æ®µæ¨¡å‹çš„treeè§†å›¾ï¼š"></a>1. é¦–å…ˆè‡ªå®šä¹‰ä¸€ä¸ªæ‰“å¼€å­—æ®µæ¨¡å‹çš„treeè§†å›¾ï¼š</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--Tree M2M Select View--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">record</span> <span class="attr">model</span>=<span class="string">"ir.ui.view"</span> <span class="attr">id</span>=<span class="string">"&#123;tree_id&#125;"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"name"</span>&gt;</span>Tree M2M Select View<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"model"</span>&gt;</span>&#123;model_name&#125;<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"priority"</span>  <span class="attr">eval</span>=<span class="string">"20"</span>/&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"arch"</span> <span class="attr">type</span>=<span class="string">"xml"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">tree</span>&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"name"</span>/&gt;</span></span><br><span class="line">                  <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"active_flag"</span>/&gt;</span></span><br><span class="line">              <span class="tag">&lt;/<span class="name">tree</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">record</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š<br>&emsp;&emsp;æœ€å¥½æŒ‡å®šä¸€ä¸ªpriorityå±æ€§å€¼&gt;16ï¼Œå¦åˆ™å¯èƒ½ä¼šå°†ä½ åŸæ¥modelçš„treeè§†å›¾ä¹Ÿè·³è½¬åˆ°æ–°å†™çš„treeä¸Šäº†(odoo8ä¸­ä¼šå‡ºç°è¿™ä¸ªæƒ…å†µ é»˜è®¤å€¼16 åŠ è½½é»˜è®¤å–æœ€æ–°çš„è§†å›¾)ï¼›æˆ–è€…ï¼Œä½ å¯ä»¥åœ¨actionä¸ŠæŒ‡å®šä¸€ä¸ªview_ids,ä¿è¯åŸç”Ÿçš„è§†å›¾ä¸€å®šè¿æ¥åˆ°å¯¹åº”çš„ç±»å‹è§†å›¾ï¼š<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"view_ids"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">eval</span>=<span class="string">"[(5, 0, 0),</span></span></span><br><span class="line"><span class="tag"><span class="string">                      (0, 0, &#123;'view_mode': 'tree', 'view_id': ref('&#123;module_name&#125;.&#123;tree_view_id&#125;')&#125;),</span></span></span><br><span class="line"><span class="tag"><span class="string">                      (0, 0, &#123;'view_mode': 'form', 'view_id': ref('&#123;module_name&#125;.&#123;form_view_id&#125;')&#125;)]"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p><h3 id="2-åœ¨å¯¹åº”çš„m2må­—æ®µä¸ŠæŒ‡å®šè§†å›¾"><a href="#2-åœ¨å¯¹åº”çš„m2må­—æ®µä¸ŠæŒ‡å®šè§†å›¾" class="headerlink" title="2. åœ¨å¯¹åº”çš„m2må­—æ®µä¸ŠæŒ‡å®šè§†å›¾"></a>2. åœ¨å¯¹åº”çš„m2må­—æ®µä¸ŠæŒ‡å®šè§†å›¾</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"element_ids"</span> <span class="attr">context</span>=<span class="string">"&#123;'tree_view_ref': '&#123;module_name&#125;.&#123;tree_id&#125;'&#125;"</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç®€å•çš„æ€»ç»“ï¼Œå°±åˆ°è¿™é‡Œå§ï¼Œå¤§å®¶å¦‚æœæœ‰æ›´å¥½çš„æ–¹å¼è¯·åˆ†äº«ç»™æˆ‘~</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;m2må­—æ®µçš„contextå±æ€§æ¥æ”¶ä¸€ä¸ª tree_view_ref å±æ€§ï¼Œé€šè¿‡å®ƒæŒ‡å®šç‰¹å®šçš„æ‰“å¼€è§†å›¾å³å¯ã€‚&lt;br&gt;ä¸¾ä¸ªä¾‹å­ï¼š&lt;/p&gt;
&lt;h3 id=&quot;1-é¦–å…ˆè‡ªå®šä¹‰ä¸€ä¸ªæ‰“å¼€å­—æ®µæ¨¡å‹çš„treeè§†å›¾ï¼š&quot;&gt;&lt;a href=&quot;#1-é¦–å…ˆè‡ªå®šä¹‰ä¸€ä¸ªæ‰“å¼€å­—æ®µæ¨¡å‹çš„treeè§†å›¾ï¼š&quot; cla
      
    
    </summary>
    
    
      <category term="Odoo-XML" scheme="https://yangtiancheng.github.io/bbs.github.io/tags/Odoo-XML/"/>
    
  </entry>
  
  <entry>
    <title>Odoo12çš„æ•°æ®åº“è¡¨çº¦æŸå˜åŒ–æ—¶å¦‚ä½•æ›´æ–°çº¦æŸ(_sql_constraints)</title>
    <link href="https://yangtiancheng.github.io/bbs.github.io/Odoo12%E7%9A%84%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E7%BA%A6%E6%9D%9F%E5%8F%98%E5%8C%96%E6%97%B6%E5%A6%82%E4%BD%95%E6%9B%B4%E6%96%B0%E7%BA%A6%E6%9D%9F-sql-constraints/"/>
    <id>https://yangtiancheng.github.io/bbs.github.io/Odoo12çš„æ•°æ®åº“è¡¨çº¦æŸå˜åŒ–æ—¶å¦‚ä½•æ›´æ–°çº¦æŸ-sql-constraints/</id>
    <published>2019-04-06T08:52:39.000Z</published>
    <updated>2019-04-06T00:56:14.682Z</updated>
    
    <content type="html"><![CDATA[<p>ä¸¤ç§æ–¹å¼ï¼š</p><h3 id="1-è¦†ç›–é‡å†™"><a href="#1-è¦†ç›–é‡å†™" class="headerlink" title="1. è¦†ç›–é‡å†™"></a>1. è¦†ç›–é‡å†™</h3><pre><code>ä¸¾ä¸ªğŸŒ°ï¼š<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># odooæºç é…±ç´«</span></span><br><span class="line">_sql_constraints = [</span><br><span class="line">       (<span class="string">'code_and_name'</span>,</span><br><span class="line">        <span class="string">'UNIQUE(code,name)'</span>,</span><br><span class="line">        _(<span class="string">"Code and Name must be unique!"</span>)),</span><br><span class="line">   ]</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç°åœ¨å˜æˆäº† code + company å”¯ä¸€çº¦æŸ</span></span><br><span class="line"><span class="comment"># å¦‚æœå“¦æˆ‘ä»¬ä¸ä»‹æ„uniqueçš„åœ¨æ•°æ®åº“ä¸­çš„åç§° æˆ‘ä»¬å¯ä»¥é…±ç´«å†™</span></span><br><span class="line">_sql_constraints = [</span><br><span class="line">       (<span class="string">'code_and_name'</span>,</span><br><span class="line">        <span class="string">'UNIQUE(code,company_id)'</span>,</span><br><span class="line">        _(<span class="string">"Code and Company must be unique!"</span>)),</span><br><span class="line">   ]</span><br><span class="line"><span class="comment"># å³åç§°ç›¸åŒï¼Œç›´æ¥è¦†ç›– å¯ä»¥å–æ•°æ®åº“ä¸­æŸ¥çœ‹è¡¨çš„uniqueé€‰é¡¹ </span></span><br><span class="line">![è¦†ç›–é‡å†™](https://img-blog.csdnimg.cn/<span class="number">20190311140149173.</span>png)</span><br></pre></td></tr></table></figure></code></pre><a id="more"></a>    <h3 id="2-æŸ¥è¯¢åˆ é™¤å¹¶æ–°å¢"><a href="#2-æŸ¥è¯¢åˆ é™¤å¹¶æ–°å¢" class="headerlink" title="2. æŸ¥è¯¢åˆ é™¤å¹¶æ–°å¢"></a>2. æŸ¥è¯¢åˆ é™¤å¹¶æ–°å¢</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># odooæºç é…±ç´«(account.account)</span></span><br><span class="line">  _sql_constraints = [</span><br><span class="line">       (<span class="string">'code_company_uniq'</span>, </span><br><span class="line">       <span class="string">'unique (code,company_id)'</span>, </span><br><span class="line">       <span class="string">'The code of the account must be unique per company !'</span>)</span><br><span class="line">   ]</span><br><span class="line"></span><br><span class="line"><span class="comment"># æŸ¥è¯¢åˆ é™¤å¹¶æ–°å¢é…±ç´«</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">from</span> odoo <span class="keyword">import</span> _, api, fields, models, modules</span><br><span class="line"><span class="keyword">from</span> odoo.exceptions <span class="keyword">import</span> ValidationError</span><br><span class="line"><span class="keyword">import</span> logging</span><br><span class="line">_logger = logging.getLogger(__name__)</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AcountAccountInherit</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    _inherit = <span class="string">'account.account'</span></span><br><span class="line">    </span><br><span class="line"><span class="meta">@api.model_cr</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">init</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># åˆ é™¤Odooæºç  ç§‘ç›®è¡¨çš„çº¦æŸæ¡ä»¶</span></span><br><span class="line">        cr = self.env.cr</span><br><span class="line">        unique_name = <span class="string">'account_account_code_company_uniq'</span></span><br><span class="line">        table_name = <span class="string">'account_account'</span></span><br><span class="line">        cr.execute(<span class="string">"""SELECT 1 from pg_constraint cs JOIN pg_class cl ON (cs.conrelid = cl.oid)</span></span><br><span class="line"><span class="string">                                           WHERE cs.conname=%s and cl.relname=%s"""</span>, (unique_name, table_name))</span><br><span class="line">        <span class="keyword">if</span> cr.fetchone():</span><br><span class="line">            cr.execute(<span class="string">'ALTER TABLE "%s" DROP CONSTRAINT "%s"'</span> % (table_name, unique_name), )</span><br><span class="line">            _logger.info(<span class="string">'Dropped CONSTRAINT %s@%s'</span>, table_name, unique_name)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ–°å¢æ–°çº¦æŸ</span></span><br><span class="line">    _sql_constraints = [</span><br><span class="line">        (<span class="string">'code_and_account_structure'</span>,</span><br><span class="line">         <span class="string">'UNIQUE(code,account_structure_id)'</span>,</span><br><span class="line">         _(<span class="string">"Code and account structure must be unique!"</span>)),</span><br><span class="line">    ]</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;h3 id=&quot;1-è¦†ç›–é‡å†™&quot;&gt;&lt;a href=&quot;#1-è¦†ç›–é‡å†™&quot; class=&quot;headerlink&quot; title=&quot;1. è¦†ç›–é‡å†™&quot;&gt;&lt;/a&gt;1. è¦†ç›–é‡å†™&lt;/h3&gt;&lt;pre&gt;&lt;code&gt;ä¸¾ä¸ªğŸŒ°ï¼š
&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# odooæºç é…±ç´«&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_sql_constraints = [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       (&lt;span class=&quot;string&quot;&gt;&#39;code_and_name&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&#39;UNIQUE(code,name)&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        _(&lt;span class=&quot;string&quot;&gt;&quot;Code and Name must be unique!&quot;&lt;/span&gt;)),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   ]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# ç°åœ¨å˜æˆäº† code + company å”¯ä¸€çº¦æŸ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# å¦‚æœå“¦æˆ‘ä»¬ä¸ä»‹æ„uniqueçš„åœ¨æ•°æ®åº“ä¸­çš„åç§° æˆ‘ä»¬å¯ä»¥é…±ç´«å†™&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;_sql_constraints = [&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;       (&lt;span class=&quot;string&quot;&gt;&#39;code_and_name&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;string&quot;&gt;&#39;UNIQUE(code,company_id)&#39;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        _(&lt;span class=&quot;string&quot;&gt;&quot;Code and Company must be unique!&quot;&lt;/span&gt;)),&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;   ]&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# å³åç§°ç›¸åŒï¼Œç›´æ¥è¦†ç›– å¯ä»¥å–æ•°æ®åº“ä¸­æŸ¥çœ‹è¡¨çš„uniqueé€‰é¡¹ &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;![è¦†ç›–é‡å†™](https://img-blog.csdnimg.cn/&lt;span class=&quot;number&quot;&gt;20190311140149173.&lt;/span&gt;png)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
    
      <category term="Odoo" scheme="https://yangtiancheng.github.io/bbs.github.io/tags/Odoo/"/>
    
  </entry>
  
  <entry>
    <title>Odoo12ä¸ªæ€§åŒ–æ¨¡å—è¦†ç›–æºç å­—æ®µçš„ç¿»è¯‘(i18n)</title>
    <link href="https://yangtiancheng.github.io/bbs.github.io/Odoo12%E4%B8%AA%E6%80%A7%E5%8C%96%E6%A8%A1%E5%9D%97%E8%A6%86%E7%9B%96%E6%BA%90%E7%A0%81%E5%AD%97%E6%AE%B5%E7%9A%84%E7%BF%BB%E8%AF%91-i18n/"/>
    <id>https://yangtiancheng.github.io/bbs.github.io/Odoo12ä¸ªæ€§åŒ–æ¨¡å—è¦†ç›–æºç å­—æ®µçš„ç¿»è¯‘-i18n/</id>
    <published>2019-04-06T08:52:18.000Z</published>
    <updated>2019-04-06T00:56:14.679Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h1><p>å½“æˆ‘ä»¬æœ‰ä¸€ä¸ªå­—æ®µ<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æºç  analytic æ¨¡å—</span></span><br><span class="line"><span class="string">"""pyä»£ç """</span></span><br><span class="line">code = fields.Char(string=<span class="string">'Reference'</span>, index=<span class="literal">True</span>, track_visibility=<span class="string">'onchange'</span>)</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;poä»£ç &quot;&quot;&quot;</span><br><span class="line">#. module: analytic</span><br><span class="line">#: model:ir.model.fields,field_description:analytic.field_account_analytic_account__code</span><br><span class="line">msgid &quot;Reference&quot;</span><br><span class="line">msgstr &quot;å‚è€ƒ&quot;</span><br></pre></td></tr></table></figure><a id="more"></a>    <p>ç°åœ¨æˆ‘ä»¬éœ€è¦å°†Referenceç¿»è¯‘æˆ â€œç¼–ç å‚ç…§â€<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ä¸ªæ€§åŒ– new_module æ¨¡å—</span></span><br><span class="line"><span class="string">"""pyä»£ç """</span></span><br><span class="line"><span class="comment"># ç»§æ‰¿_get_import_cursoræ–¹æ³• å°†ç»§æ‰¿æ¨¡å—çš„ç¿»è¯‘æ›¿æ¢ å¯ç”¨</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IrTranslation</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    _inherit = <span class="string">'ir.translation'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_get_import_cursor</span><span class="params">(self)</span>:</span></span><br><span class="line">        context = self._context.copy()</span><br><span class="line">        context[<span class="string">'overwrite'</span>] = <span class="literal">True</span></span><br><span class="line">        self = self.with_context(context)</span><br><span class="line">        <span class="keyword">return</span> super(IrTranslation, self)._get_import_cursor()</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&quot;&quot;&quot;poä»£ç  è¦†ç›–åŸç¿»è¯‘&quot;&quot;&quot;</span><br><span class="line">#. module: analytic</span><br><span class="line">#: model:ir.model.fields,field_description:analytic.field_account_analytic_account__code</span><br><span class="line">msgid &quot;Reference&quot;</span><br><span class="line">msgstr &quot;ç¼–ç å‚ç…§&quot;</span><br></pre></td></tr></table></figure><p>å…¶å®è¿™ä¸ªä¸æˆ‘ä»¬configæ–‡ä»¶ä¸­çš„ â€“i18n-overwrite =&gt; config[â€˜overwrite_existing_translationsâ€™] çš„é…ç½®å†…å®¹ç›¸åŒã€‚</p><p>è¿™æ ·å¤„ç†åï¼Œæˆ‘ä»¬éœ€è¦å‡çº§æˆ‘ä»¬çš„ä¸ªæ€§åŒ–æ¨¡å— new_module ï¼Œå‡çº§å®Œæˆåï¼Œç¿»è¯‘è¦†ç›–æˆåŠŸã€‚<br>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼š1. åŠ è½½ç¿»è¯‘ä¸ä¼šç”Ÿæ•ˆ 2. å‡çº§æ¨¡å—åç¿»è¯‘è¦†ç›–æˆåŠŸï¼Œä½†æ˜¯å¦‚æœå†æ¬¡åŠ è½½ç¿»è¯‘ï¼Œè¦†ç›–çš„ç¿»è¯‘ä¼šè¢«è¿˜åŸã€‚</p><pre><code>è®¨è®ºï¼šå¦‚ä½•å°†æºç çš„ç¿»è¯‘æ›¿æ¢æ‰ï¼Œå¹¶ä¸”è¿˜èƒ½æ‹¿æŒä¹…åŒ–ï¼Œå¦‚æœæœ‰å¥½çš„å»ºè®®è¯·æ‚¨æŒ‡ç‚¹ï¼</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;åœºæ™¯&quot;&gt;&lt;a href=&quot;#åœºæ™¯&quot; class=&quot;headerlink&quot; title=&quot;åœºæ™¯&quot;&gt;&lt;/a&gt;åœºæ™¯&lt;/h1&gt;&lt;p&gt;å½“æˆ‘ä»¬æœ‰ä¸€ä¸ªå­—æ®µ&lt;br&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;# æºç  analytic æ¨¡å—&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;string&quot;&gt;&quot;&quot;&quot;pyä»£ç &quot;&quot;&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;code = fields.Char(string=&lt;span class=&quot;string&quot;&gt;&#39;Reference&#39;&lt;/span&gt;, index=&lt;span class=&quot;literal&quot;&gt;True&lt;/span&gt;, track_visibility=&lt;span class=&quot;string&quot;&gt;&#39;onchange&#39;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;quot;&amp;quot;&amp;quot;poä»£ç &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#. module: analytic&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;#: model:ir.model.fields,field_description:analytic.field_account_analytic_account__code&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;msgid &amp;quot;Reference&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;msgstr &amp;quot;å‚è€ƒ&amp;quot;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
    
      <category term="Odoo" scheme="https://yangtiancheng.github.io/bbs.github.io/tags/Odoo/"/>
    
  </entry>
  
  <entry>
    <title>odoo actioné¡µé¢è·³è½¬ç›´æ¥ä¸ºç¼–è¾‘çŠ¶æ€æ“ä½œ</title>
    <link href="https://yangtiancheng.github.io/bbs.github.io/odoo-action%E9%A1%B5%E9%9D%A2%E8%B7%B3%E8%BD%AC%E7%9B%B4%E6%8E%A5%E4%B8%BA%E7%BC%96%E8%BE%91%E7%8A%B6%E6%80%81%E6%93%8D%E4%BD%9C/"/>
    <id>https://yangtiancheng.github.io/bbs.github.io/odoo-actioné¡µé¢è·³è½¬ç›´æ¥ä¸ºç¼–è¾‘çŠ¶æ€æ“ä½œ/</id>
    <published>2019-04-06T08:40:12.000Z</published>
    <updated>2019-04-06T00:49:48.655Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">return &#123;</span><br><span class="line">        &apos;type&apos;: &apos;ir.actions.act_window&apos;,</span><br><span class="line">        &apos;view_type&apos;: &apos;form&apos;,</span><br><span class="line">        &apos;view_mode&apos;: &apos;form&apos;,</span><br><span class="line">        &apos;res_model&apos;: &apos;ï¼›module.model_name&apos;,</span><br><span class="line">        &apos;res_id&apos;: self.id,</span><br><span class="line">        &apos;context&apos;: self.env.context,</span><br><span class="line">        &apos;flags&apos;: &#123;&apos;initial_mode&apos;: &apos;edit&apos;&#125;,</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure><p>åŠ ä¸Šè¿™å¥ï¼šâ€˜flagsâ€™: {â€˜initial_modeâ€™: â€˜editâ€™},<br><a id="more"></a></p><p>Odoo12ä½¿ç”¨ï¼š<br>context[â€˜form_view_initial_modeâ€™] = â€˜editâ€™</p><p><a href="https://www.cnblogs.com/hellojesson/p/8405539.html" target="_blank" rel="noopener">ç‰¹åˆ«æ„Ÿè°¢æŠ€æœ¯æä¾›æ¥æºURL</a></p>]]></content>
    
    <summary type="html">
    
      &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;return &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;apos;type&amp;apos;: &amp;apos;ir.actions.act_window&amp;apos;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;apos;view_type&amp;apos;: &amp;apos;form&amp;apos;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;apos;view_mode&amp;apos;: &amp;apos;form&amp;apos;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;apos;res_model&amp;apos;: &amp;apos;ï¼›module.model_name&amp;apos;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;apos;res_id&amp;apos;: self.id,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;apos;context&amp;apos;: self.env.context,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;apos;flags&amp;apos;: &amp;#123;&amp;apos;initial_mode&amp;apos;: &amp;apos;edit&amp;apos;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;åŠ ä¸Šè¿™å¥ï¼šâ€˜flagsâ€™: {â€˜initial_modeâ€™: â€˜editâ€™},&lt;br&gt;
    
    </summary>
    
    
      <category term="Odoo-XML" scheme="https://yangtiancheng.github.io/bbs.github.io/tags/Odoo-XML/"/>
    
  </entry>
  
  <entry>
    <title>hexoçš„å‘æ±‡æ€»</title>
    <link href="https://yangtiancheng.github.io/bbs.github.io/hexo%E7%9A%84%E5%9D%91%E6%B1%87%E6%80%BB/"/>
    <id>https://yangtiancheng.github.io/bbs.github.io/hexoçš„å‘æ±‡æ€»/</id>
    <published>2019-04-06T00:55:28.000Z</published>
    <updated>2019-04-05T17:03:45.737Z</updated>
    
    <content type="html"><![CDATA[<h2 id="åˆ é™¤hexoå·¥ç¨‹"><a href="#åˆ é™¤hexoå·¥ç¨‹" class="headerlink" title="åˆ é™¤hexoå·¥ç¨‹"></a>åˆ é™¤hexoå·¥ç¨‹</h2><p>æ‰‹åŠ¨rm -rf hexoå·¥ç¨‹ åï¼Œå‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œè™½ç„¶ç»‘å®šäº†github page,ä½†æ˜¯hexoå·¥ç¨‹çš„æºç å¹¶æ²¡æœ‰äº†ï¼Œ<br>ç›®å‰æ˜¯æ²¡å‘ç°ä»€ä¹ˆæ¢å¤çš„æ–¹å¼ã€‚</p><p>æ¨èå¤§å®¶ä½¿ç”¨pycharmç¼–å†™ï¼Œå°±ç®—rm -rf åˆ é™¤äº†å·¥ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥mkdir åŒåhexo<br>å·¥ç¨‹æ–‡ä»¶ï¼Œç„¶åå³å‡»æ–‡ä»¶ä¸Šé€‰æ‹©Local History,æ‰¾åˆ°ä¸€ä¸ªå†å²ç‚¹ï¼Œé€‰æ‹©Revertï¼Œè¿™æ—¶å€™å·¥ç¨‹å°±æ¢å¤åˆ°äº†å†å²ç‚¹ã€‚<br><a id="more"></a></p><h2 id="æ¨èä½¿ç”¨æ–¹å¼"><a href="#æ¨èä½¿ç”¨æ–¹å¼" class="headerlink" title="æ¨èä½¿ç”¨æ–¹å¼"></a>æ¨èä½¿ç”¨æ–¹å¼</h2><ol><li>ä½¿ç”¨pycharmç¼–è¾‘</li><li>ä½¿ç”¨gitä»“åº“ç®¡ç†ï¼Œå®šæ—¶ä¸Šä¼ hexoå·¥ç¨‹ä»£ç </li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;åˆ é™¤hexoå·¥ç¨‹&quot;&gt;&lt;a href=&quot;#åˆ é™¤hexoå·¥ç¨‹&quot; class=&quot;headerlink&quot; title=&quot;åˆ é™¤hexoå·¥ç¨‹&quot;&gt;&lt;/a&gt;åˆ é™¤hexoå·¥ç¨‹&lt;/h2&gt;&lt;p&gt;æ‰‹åŠ¨rm -rf hexoå·¥ç¨‹ åï¼Œå‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œè™½ç„¶ç»‘å®šäº†github page,ä½†æ˜¯hexoå·¥ç¨‹çš„æºç å¹¶æ²¡æœ‰äº†ï¼Œ&lt;br&gt;ç›®å‰æ˜¯æ²¡å‘ç°ä»€ä¹ˆæ¢å¤çš„æ–¹å¼ã€‚&lt;/p&gt;
&lt;p&gt;æ¨èå¤§å®¶ä½¿ç”¨pycharmç¼–å†™ï¼Œå°±ç®—rm -rf åˆ é™¤äº†å·¥ç¨‹ï¼Œæˆ‘ä»¬å¯ä»¥mkdir åŒåhexo&lt;br&gt;å·¥ç¨‹æ–‡ä»¶ï¼Œç„¶åå³å‡»æ–‡ä»¶ä¸Šé€‰æ‹©Local History,æ‰¾åˆ°ä¸€ä¸ªå†å²ç‚¹ï¼Œé€‰æ‹©Revertï¼Œè¿™æ—¶å€™å·¥ç¨‹å°±æ¢å¤åˆ°äº†å†å²ç‚¹ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="hexo" scheme="https://yangtiancheng.github.io/bbs.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>npmåˆ‡æ¢å›½å†…æº</title>
    <link href="https://yangtiancheng.github.io/bbs.github.io/npm%E5%88%87%E6%8D%A2%E5%9B%BD%E5%86%85%E6%BA%90/"/>
    <id>https://yangtiancheng.github.io/bbs.github.io/npmåˆ‡æ¢å›½å†…æº/</id>
    <published>2019-04-05T22:17:35.000Z</published>
    <updated>2019-04-05T14:47:39.565Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åˆ‡æ¢å›½å†…æº"><a href="#åˆ‡æ¢å›½å†…æº" class="headerlink" title="åˆ‡æ¢å›½å†…æº"></a>åˆ‡æ¢å›½å†…æº</h1><p>npm install -g cnpm â€“registry=<a href="https://registry.npm.taobao.org" target="_blank" rel="noopener">https://registry.npm.taobao.org</a></p><p>cnpm install hexo-cli -g<br><a id="more"></a></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;åˆ‡æ¢å›½å†…æº&quot;&gt;&lt;a href=&quot;#åˆ‡æ¢å›½å†…æº&quot; class=&quot;headerlink&quot; title=&quot;åˆ‡æ¢å›½å†…æº&quot;&gt;&lt;/a&gt;åˆ‡æ¢å›½å†…æº&lt;/h1&gt;&lt;p&gt;npm install -g cnpm â€“registry=&lt;a href=&quot;https://registry.npm.taobao.org&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://registry.npm.taobao.org&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;cnpm install hexo-cli -g&lt;br&gt;
    
    </summary>
    
    
      <category term="linux" scheme="https://yangtiancheng.github.io/bbs.github.io/tags/linux/"/>
    
      <category term="npm" scheme="https://yangtiancheng.github.io/bbs.github.io/tags/npm/"/>
    
  </entry>
  
  <entry>
    <title>PEP8å¿…é¡»å­¦ä¹ </title>
    <link href="https://yangtiancheng.github.io/bbs.github.io/PEP8%E5%BF%85%E9%A1%BB%E5%AD%A6%E4%B9%A0/"/>
    <id>https://yangtiancheng.github.io/bbs.github.io/PEP8å¿…é¡»å­¦ä¹ /</id>
    <published>2019-04-05T22:06:31.000Z</published>
    <updated>2019-04-05T14:47:39.563Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://blog.csdn.net/ratsniper/article/details/78954852#introduction-%E4%BB%8B%E7%BB%8D" target="_blank" rel="noopener">URL-Chinese</a><br><a href="https://www.python.org/dev/peps/pep-0008/#introduction" target="_blank" rel="noopener">URL-English</a></p><h1 id="è¿™äº›å¼€å‘è§„èŒƒè¿˜æ˜¯å¾ˆé‡è¦çš„ï¼Œå¿…è¯»"><a href="#è¿™äº›å¼€å‘è§„èŒƒè¿˜æ˜¯å¾ˆé‡è¦çš„ï¼Œå¿…è¯»" class="headerlink" title="è¿™äº›å¼€å‘è§„èŒƒè¿˜æ˜¯å¾ˆé‡è¦çš„ï¼Œå¿…è¯»"></a>è¿™äº›å¼€å‘è§„èŒƒè¿˜æ˜¯å¾ˆé‡è¦çš„ï¼Œå¿…è¯»</h1><a id="more"></a>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/ratsniper/article/details/78954852#introduction-%E4%BB%8B%E7%BB%8D&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;URL-Chinese&lt;/a&gt;&lt;br&gt;&lt;a href=&quot;https://www.python.org/dev/peps/pep-0008/#introduction&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;URL-English&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;è¿™äº›å¼€å‘è§„èŒƒè¿˜æ˜¯å¾ˆé‡è¦çš„ï¼Œå¿…è¯»&quot;&gt;&lt;a href=&quot;#è¿™äº›å¼€å‘è§„èŒƒè¿˜æ˜¯å¾ˆé‡è¦çš„ï¼Œå¿…è¯»&quot; class=&quot;headerlink&quot; title=&quot;è¿™äº›å¼€å‘è§„èŒƒè¿˜æ˜¯å¾ˆé‡è¦çš„ï¼Œå¿…è¯»&quot;&gt;&lt;/a&gt;è¿™äº›å¼€å‘è§„èŒƒè¿˜æ˜¯å¾ˆé‡è¦çš„ï¼Œå¿…è¯»&lt;/h1&gt;
    
    </summary>
    
    
      <category term="Python" scheme="https://yangtiancheng.github.io/bbs.github.io/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>Postgresql10æŒç»­å­¦ä¹ (ing)</title>
    <link href="https://yangtiancheng.github.io/bbs.github.io/Postgresql10%E6%8C%81%E7%BB%AD%E5%AD%A6%E4%B9%A0-ing/"/>
    <id>https://yangtiancheng.github.io/bbs.github.io/Postgresql10æŒç»­å­¦ä¹ -ing/</id>
    <published>2019-04-05T22:05:50.000Z</published>
    <updated>2019-04-05T14:45:32.260Z</updated>
    
    <content type="html"><![CDATA[<h1 id="è§†å›¾"><a href="#è§†å›¾" class="headerlink" title="è§†å›¾"></a>è§†å›¾</h1><ul><li>è§†å›¾æ˜¯ä¸ºäº†é¿å…æ¯æ¬¡æŸ¥è¯¢éƒ½è¦æ•²æ‰“sqlè€Œå‡ºç°çš„æ›¿ä»£ç‰©ï¼Œå®ƒå°±åƒä¸€å¼ è¡¨ï¼Œå¯ä»¥å­˜å‚¨å¤šä¸ªå˜ä¹‹é—´çš„ç»“æ„å’Œæ•°æ®å…³ç³»ã€‚<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- å­¦ç”Ÿé€‰è¯¾æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> myView <span class="keyword">AS</span></span><br><span class="line">    <span class="keyword">select</span> p.name,p.age,c.name</span><br><span class="line">        <span class="keyword">from</span> people p,course c</span><br><span class="line">        <span class="keyword">where</span> p.id = c.p_id</span><br></pre></td></tr></table></figure></li></ul><p>ä»¥åæˆ‘æƒ³æŸ¥è¯¢æ•°æ®ï¼Œæˆ‘åªéœ€è¦select * from myView;å°±èƒ½å®ç°æˆ‘çš„æ•´ä¸ªæŸ¥è¯¢ã€‚<br><a id="more"></a></p><h1 id="å¤–é”®"><a href="#å¤–é”®" class="headerlink" title="å¤–é”®"></a>å¤–é”®</h1><ul><li>å¯ä»¥çº¦æŸè¡¨çš„æ’å…¥æ•°æ®çš„å®Œæ•´æ€§</li></ul><h1 id="äº‹åŠ¡"><a href="#äº‹åŠ¡" class="headerlink" title="äº‹åŠ¡"></a>äº‹åŠ¡</h1><ul><li>äº‹åŠ¡æœ€é‡è¦çš„ä¸€ç‚¹æ˜¯å®ƒå°†å¤šä¸ªæ­¥éª¤æ†ç»‘æˆäº†ä¸€ä¸ªå•ä¸€çš„ã€è¦ä¹ˆå…¨å®Œæˆè¦ä¹ˆå…¨ä¸å®Œæˆçš„æ“ä½œ</li><li>ä¸€ä¸ªäº‹åŠ¡è¢«æ•°æ®åº“ç³»ç»Ÿå®Œæˆå¹¶è®¤å¯ï¼Œå®ƒå°±è¢«æ°¸ä¹…åœ°è®°å½•ä¸‹æ¥ä¸”å³ä¾¿å…¶åå‘ç”Ÿå´©æºƒä¹Ÿä¸ä¼šè¢«ä¸¢å¤±</li><li>å½“å¤šä¸ªäº‹åŠ¡å¹¶å‘è¿è¡Œæ—¶ï¼Œæ¯ä¸€ä¸ªéƒ½ä¸èƒ½çœ‹åˆ°å…¶ä»–äº‹åŠ¡æœªå®Œæˆçš„ä¿®æ”¹</li><li>ä¸€ç»„è¢«BEGINå’ŒCOMMITåŒ…å›´çš„è¯­å¥ä¹Ÿè¢«ç§°ä¸ºä¸€ä¸ªäº‹åŠ¡å—</li></ul><h2 id="ä¿å­˜å›æ»šç‚¹"><a href="#ä¿å­˜å›æ»šç‚¹" class="headerlink" title="ä¿å­˜å›æ»šç‚¹"></a>ä¿å­˜å›æ»šç‚¹</h2><ul><li>å›æ»šç‚¹å‰çš„æ•°æ®ä¾æ—§å­˜åœ¨ å›æ»šç‚¹åˆ°rollbackåŒºé—´çš„æ“ä½œä¸è®°å½•<br>savepoint å›æ»šç‚¹åç§°<br>rollback to å›æ»šç‚¹åç§°<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">BEGIN</span>;</span><br><span class="line"><span class="keyword">UPDATE</span> accounts <span class="keyword">SET</span> balance = balance - <span class="number">100.00</span></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'Alice'</span>;</span><br><span class="line"><span class="keyword">SAVEPOINT</span> my_savepoint;</span><br><span class="line"><span class="keyword">UPDATE</span> accounts <span class="keyword">SET</span> balance = balance + <span class="number">100.00</span></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'Bob'</span>;</span><br><span class="line"><span class="comment">-- oops ... forget that and use Wally's account</span></span><br><span class="line"><span class="keyword">ROLLBACK</span> <span class="keyword">TO</span> my_savepoint;</span><br><span class="line"><span class="keyword">UPDATE</span> accounts <span class="keyword">SET</span> balance = balance + <span class="number">100.00</span></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">name</span> = <span class="string">'Wally'</span>;</span><br><span class="line"><span class="keyword">COMMIT</span>;</span><br></pre></td></tr></table></figure></li></ul><h1 id="çª—å£å‡½æ•°"><a href="#çª—å£å‡½æ•°" class="headerlink" title="çª—å£å‡½æ•°"></a>çª—å£å‡½æ•°</h1><ul><li>çª—å£å‡½æ•°ä¸»è¦æ˜¯ç”¨èšé›†å‡½æ•°çš„ï¼Œä½†æ˜¯éœ€è¦éƒ¨åˆ†èšé›†ï¼Œç›¸åŒèšé›†å­—æ®µè®°å½•æ”¾ä¸€èµ·è¿›è¡Œèšé›†è®¡ç®—<br>OVER (ORDER BY å­—æ®µå ORDER BY å­—æ®µå) æ˜¯çª—å£å‡½æ•°çš„å®šä¹‰<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> salary, <span class="keyword">sum</span>(salary) <span class="keyword">OVER</span> (<span class="keyword">ORDER</span> <span class="keyword">BY</span> salary) <span class="keyword">FROM</span> empsalary;</span><br></pre></td></tr></table></figure></li></ul><h1 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h1><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> cities (</span><br><span class="line"><span class="keyword">name</span>       <span class="built_in">text</span>,</span><br><span class="line">population <span class="built_in">real</span>,</span><br><span class="line">altitude   <span class="built_in">int</span>     <span class="comment">-- (in ft)</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> capitals (</span><br><span class="line">state      <span class="built_in">char</span>(<span class="number">2</span>)</span><br><span class="line">) INHERITS (cities);</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="keyword">name</span>, altitude</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">ONLY</span> cities</span><br><span class="line"><span class="keyword">WHERE</span> altitude &gt; <span class="number">500</span>;</span><br></pre></td></tr></table></figure><ul><li>ONLYç”¨äºæŒ‡ç¤ºæŸ¥è¯¢åªåœ¨citiesè¡¨ä¸Šè¿›è¡Œè€Œä¸ä¼šæ¶‰åŠåˆ°ç»§æ‰¿å±‚æ¬¡ä¸­ä½äºcitiesä¹‹ä¸‹çš„å…¶ä»–è¡¨</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;è§†å›¾&quot;&gt;&lt;a href=&quot;#è§†å›¾&quot; class=&quot;headerlink&quot; title=&quot;è§†å›¾&quot;&gt;&lt;/a&gt;è§†å›¾&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;è§†å›¾æ˜¯ä¸ºäº†é¿å…æ¯æ¬¡æŸ¥è¯¢éƒ½è¦æ•²æ‰“sqlè€Œå‡ºç°çš„æ›¿ä»£ç‰©ï¼Œå®ƒå°±åƒä¸€å¼ è¡¨ï¼Œå¯ä»¥å­˜å‚¨å¤šä¸ªå˜ä¹‹é—´çš„ç»“æ„å’Œæ•°æ®å…³ç³»ã€‚&lt;figure class=&quot;highlight sql&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;-- å­¦ç”Ÿé€‰è¯¾æŸ¥è¯¢&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;create&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;view&lt;/span&gt; myView &lt;span class=&quot;keyword&quot;&gt;AS&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;select&lt;/span&gt; p.name,p.age,c.name&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;from&lt;/span&gt; people p,course c&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;where&lt;/span&gt; p.id = c.p_id&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä»¥åæˆ‘æƒ³æŸ¥è¯¢æ•°æ®ï¼Œæˆ‘åªéœ€è¦select * from myView;å°±èƒ½å®ç°æˆ‘çš„æ•´ä¸ªæŸ¥è¯¢ã€‚&lt;br&gt;
    
    </summary>
    
    
      <category term="Postgresql" scheme="https://yangtiancheng.github.io/bbs.github.io/tags/Postgresql/"/>
    
  </entry>
  
  <entry>
    <title>Odoo12-å¯åŠ¨æŒç»­åˆ†æ(ing)</title>
    <link href="https://yangtiancheng.github.io/bbs.github.io/Odoo12-%E5%90%AF%E5%8A%A8%E6%8C%81%E7%BB%AD%E5%88%86%E6%9E%90-ing/"/>
    <id>https://yangtiancheng.github.io/bbs.github.io/Odoo12-å¯åŠ¨æŒç»­åˆ†æ-ing/</id>
    <published>2019-04-05T22:04:49.000Z</published>
    <updated>2019-04-05T17:08:20.636Z</updated>
    
    <content type="html"><![CDATA[<h2 id="sys-argv"><a href="#sys-argv" class="headerlink" title="sys.argv:"></a>sys.argv:</h2><p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ‰§è¡Œçš„æ–‡ä»¶å…¨è·¯å¾„ï¼Œåé¢çš„å‚æ•°æ˜¯æ‰§è¡Œæ–‡ä»¶æ—¶çš„å‚æ•°</p><p><hr><br><a id="more"></a></p><h2 id="OptionContainer"><a href="#OptionContainer" class="headerlink" title="OptionContainer"></a>OptionContainer</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">æŠ½è±¡ç±»</span><br><span class="line"></span><br><span class="line">ç±»å±æ€§ï¼š</span><br><span class="line">    standard_option_list - ä¸€ä¸ªåˆ—è¡¨ï¼Œç”¨äºåˆ—å‡ºå…¬å…±çš„é€‰é¡¹ï¼Œä¸€èˆ¬åœ¨ç»§æ‰¿çš„å­ç±»ä¸­å®ç°</span><br><span class="line">    </span><br><span class="line">å®ä¾‹å±æ€§ï¼š</span><br><span class="line">    option_listï¼š é€‰é¡¹å¯¹è±¡åˆ—è¡¨</span><br><span class="line">    _short_optï¼š&#123;string:Opthon&#125; ç®€å†™</span><br><span class="line">    _long_optï¼š&#123;string:Opthon&#125; å…¨ç§°</span><br><span class="line">    defaultsï¼š&#123;string:any&#125; å…¶ä»–é»˜è®¤æŒ‡ä»¤æ˜ å°„</span><br><span class="line">æ–¹æ³•ï¼š</span><br><span class="line">    __init__:</span><br><span class="line">        self._create_option_list()</span><br><span class="line">        self.option_class = option_class# é€‰é¡¹ç±»</span><br><span class="line">        self.set_conflict_handler(conflict_handler)# å†²çªç±»</span><br><span class="line">        self.set_description(description) # æè¿°</span><br><span class="line">    _create_option_mappings:</span><br><span class="line">        # åˆå§‹åŒ–ä¸‰ä¸ªå®ä¾‹å±æ€§</span><br><span class="line">        self._short_opt = &#123;&#125;            # single letter -&gt; Option instance</span><br><span class="line">        self._long_opt = &#123;&#125;             # long option -&gt; Option instance</span><br><span class="line">        self.defaults = &#123;&#125;              # maps option dest -&gt; default value</span><br><span class="line">    _share_option_mappingsï¼š</span><br><span class="line">        # è®¾ç½®ä¸‰ä¸ªå®ä¾‹å±æ€§</span><br><span class="line">       </span><br><span class="line">    set_conflict_handlerï¼š</span><br><span class="line">        # è®¾ç½®å†²çªå¤„ç† </span><br><span class="line">        å‚æ•°ï¼š</span><br><span class="line">            handler - error/resolve </span><br><span class="line">        conflict_handler = handler</span><br><span class="line">        </span><br><span class="line">    set_descriptionï¼š</span><br><span class="line">        # è®¾ç½®æè¿°</span><br><span class="line">    </span><br><span class="line">    get_descriptionï¼š</span><br><span class="line">        # è·å–æè¿°</span><br><span class="line">    </span><br><span class="line">    def destroy(self):</span><br><span class="line">        # ä¸‰ä¸ªå®ä¾‹å‚æ•°é”€æ¯</span><br><span class="line">        &quot;&quot;&quot;see OptionParser.destroy().&quot;&quot;&quot;</span><br><span class="line">        del self._short_opt</span><br><span class="line">        del self._long_opt</span><br><span class="line">        del self.defaults</span><br><span class="line">        </span><br><span class="line">    _check_conflictï¼š</span><br><span class="line">        éªŒè¯å½“å‰é€‰é¡¹æ˜¯å¦å·²ç»å­˜åœ¨</span><br><span class="line">        </span><br><span class="line">    add_optionï¼š</span><br><span class="line">        å•ä¸ªé€‰é¡¹æ·»åŠ </span><br><span class="line">    </span><br><span class="line">    add_optionsï¼š</span><br><span class="line">        å‚æ•°ï¼š option_list</span><br><span class="line">        æ‰¹é‡é€‰é¡¹æ·»åŠ </span><br></pre></td></tr></table></figure><hr>    <h2 id="OptionParser"><a href="#OptionParser" class="headerlink" title="OptionParser"></a>OptionParser</h2><p>odoo.tools.config.parse_config(args)æ˜¯ä»€ä¹ˆä½œç”¨ï¼Ÿ</p><hr><h2 id="odoo-bin"><a href="#odoo-bin" class="headerlink" title="odoo-bin"></a>odoo-bin</h2><ol><li>import odoo åŒ…å¼•å…¥ï¼Œå‚æ•°åˆå§‹åŒ–</li><li>odoo.cli.main()å¯åŠ¨æœåŠ¡</li></ol><hr><h2 id="command-py"><a href="#command-py" class="headerlink" title="command.py"></a>command.py</h2><ol><li>args - æ‹¿åˆ°å¯¹åº”çš„å¯åŠ¨å‚æ•°</li><li>commands - å¯è°ƒç”¨å‡½æ•°é›†åˆ</li><li>o - å®ä¾‹åŒ–Serverç±»</li><li>o.run(args) - å¯åŠ¨æœåŠ¡ cli/server.py/main(args)</li></ol><hr><h2 id="cli-server-py-åªæåŠä¸»è¦éƒ¨åˆ†"><a href="#cli-server-py-åªæåŠä¸»è¦éƒ¨åˆ†" class="headerlink" title="cli/server.py(åªæåŠä¸»è¦éƒ¨åˆ†)"></a>cli/server.py(åªæåŠä¸»è¦éƒ¨åˆ†)</h2><ol><li>check_root_user() æ£€æŸ¥å½“å‰æ“ä½œæœºå™¨ç”¨æˆ·ä¸èƒ½ä¸ºroot é™åˆ¶æƒé™</li><li>odoo.tools.config.parse_config(args)# åŠ è½½â€“configæ–‡ä»¶å†…å®¹åˆ°å…¨å±€å˜é‡ æˆ–è€…åˆ›å»ºä¸€ä¸ª./configæ–‡ä»¶</li><li>check_postgres_user()#postçš„ç”¨æˆ·ä¸èƒ½æ˜¯postgres</li><li>report_configuration()# æ‰“å°é…ç½®ä¿¡æ¯</li><li>config å°±æ˜¯å½“å‰åŠ è½½è¿‡configæ–‡ä»¶ ç³»ç»Ÿçš„é…ç½®å‚æ•°å®ä¾‹</li><li>config - pidfileæ–‡ä»¶å­˜åœ¨çš„è¯ï¼Œå¦‚æœargså‚æ•°ç¬¬äºŒä¸ªä¸ºeventedï¼Œæ‰“å¼€æ–‡ä»¶å­˜å‚¨ä¸»çº¿ç¨‹ç›¸å…³</li><li>odoo.service.server.startå¯åŠ¨wsgi</li><li>load_server_wide_modules åŠ è½½æœåŠ¡å™¨é¢„æ”¯æ¨¡å—baseã€web</li><li>initialize_sys_path()åˆå§‹åŒ–é…ç½®çš„ç³»ç»Ÿè·¯å¾„addons_path æŒ‚è½½é’©å­ sys.meta_path å’Œ hooked=True</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;sys-argv&quot;&gt;&lt;a href=&quot;#sys-argv&quot; class=&quot;headerlink&quot; title=&quot;sys.argv:&quot;&gt;&lt;/a&gt;sys.argv:&lt;/h2&gt;&lt;p&gt;ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ‰§è¡Œçš„æ–‡ä»¶å…¨è·¯å¾„ï¼Œåé¢çš„å‚æ•°æ˜¯æ‰§è¡Œæ–‡ä»¶æ—¶çš„å‚æ•°&lt;/p&gt;
&lt;p&gt;&lt;hr&gt;&lt;br&gt;
    
    </summary>
    
    
      <category term="Odoo" scheme="https://yangtiancheng.github.io/bbs.github.io/tags/Odoo/"/>
    
  </entry>
  
  <entry>
    <title>Pythonç»Ÿè®¡æ–‡ä»¶è¡Œæ•°</title>
    <link href="https://yangtiancheng.github.io/bbs.github.io/Python%E7%BB%9F%E8%AE%A1%E6%96%87%E4%BB%B6%E8%A1%8C%E6%95%B0/"/>
    <id>https://yangtiancheng.github.io/bbs.github.io/Pythonç»Ÿè®¡æ–‡ä»¶è¡Œæ•°/</id>
    <published>2019-04-05T22:02:47.000Z</published>
    <updated>2019-04-05T14:53:25.448Z</updated>
    
    <content type="html"><![CDATA[<h4 id="basedirs-â€˜-Users-tc-code-odoo8-hrpâ€™"><a href="#basedirs-â€˜-Users-tc-code-odoo8-hrpâ€™" class="headerlink" title="basedirs = [â€˜/Users/tc/code/odoo8/hrpâ€™]"></a>basedirs = [â€˜/Users/tc/code/odoo8/hrpâ€™]</h4><p>filelists = []</p><h4 id="æŒ‡å®šæƒ³è¦ç»Ÿè®¡çš„æ–‡ä»¶ç±»å‹"><a href="#æŒ‡å®šæƒ³è¦ç»Ÿè®¡çš„æ–‡ä»¶ç±»å‹" class="headerlink" title="æŒ‡å®šæƒ³è¦ç»Ÿè®¡çš„æ–‡ä»¶ç±»å‹"></a>æŒ‡å®šæƒ³è¦ç»Ÿè®¡çš„æ–‡ä»¶ç±»å‹</h4><p>whitelist = [â€˜xmlâ€™, â€˜pyâ€™, â€˜jsâ€™, â€˜cssâ€™]<br><a id="more"></a></p><h4 id="éå†æ–‡ä»¶-é€’å½’éå†æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰"><a href="#éå†æ–‡ä»¶-é€’å½’éå†æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰" class="headerlink" title="éå†æ–‡ä»¶, é€’å½’éå†æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰"></a>éå†æ–‡ä»¶, é€’å½’éå†æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getFile</span><span class="params">(basedir)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> filelists</span><br><span class="line">    local_filelists = []</span><br><span class="line">    <span class="keyword">for</span> parent,dirnames,filenames <span class="keyword">in</span> os.walk(basedir):</span><br><span class="line">        <span class="comment">#for dirname in dirnames:</span></span><br><span class="line">        <span class="comment">#    getFile(os.path.join(parent,dirname)) #é€’å½’</span></span><br><span class="line">        <span class="keyword">for</span> filename <span class="keyword">in</span> filenames:</span><br><span class="line">            ext = filename.split(<span class="string">'.'</span>)[<span class="number">-1</span>]</span><br><span class="line">            <span class="comment">#åªç»Ÿè®¡æŒ‡å®šçš„æ–‡ä»¶ç±»å‹ï¼Œç•¥è¿‡ä¸€äº›logå’Œcacheæ–‡ä»¶</span></span><br><span class="line">            <span class="keyword">if</span> ext <span class="keyword">in</span> whitelist:</span><br><span class="line">                local_filelists.append(os.path.join(parent,filename))</span><br><span class="line">                filelists.append(os.path.join(parent,filename))</span><br><span class="line">    <span class="keyword">return</span> local_filelists</span><br></pre></td></tr></table></figure><h4 id="ç»Ÿè®¡ä¸€ä¸ªæ–‡ä»¶çš„è¡Œæ•°"><a href="#ç»Ÿè®¡ä¸€ä¸ªæ–‡ä»¶çš„è¡Œæ•°" class="headerlink" title="ç»Ÿè®¡ä¸€ä¸ªæ–‡ä»¶çš„è¡Œæ•°"></a>ç»Ÿè®¡ä¸€ä¸ªæ–‡ä»¶çš„è¡Œæ•°</h4><p>def countLine(fname):<br>    count = 0<br>    for file_line in open(fname).xreadlines():<br>        if file_line != â€˜â€™ and file_line != â€˜\nâ€™: #è¿‡æ»¤æ‰ç©ºè¡Œ<br>            count += 1<br>    return count<br>if <strong>name</strong> == â€˜<strong>main</strong>â€˜ :<br>    startTime = time.clock()<br>    all_line = 0<br>    for basedir in basedirs:<br>        local_filelists = getFile(basedir)<br>        totalline = 0<br>        for filelist in local_filelists:<br>            totalline = totalline + countLine(filelist)<br>        all_line += totalline<br>        print str(basedir.split(â€œ/â€œ)[-1])+â€™,â€™,totalline<br>    print â€˜ =&gt; ALL LINES:â€™+str(all_line)</p>]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;basedirs-â€˜-Users-tc-code-odoo8-hrpâ€™&quot;&gt;&lt;a href=&quot;#basedirs-â€˜-Users-tc-code-odoo8-hrpâ€™&quot; class=&quot;headerlink&quot; title=&quot;basedirs = [â€˜/Users/tc/code/odoo8/hrpâ€™]&quot;&gt;&lt;/a&gt;basedirs = [â€˜/Users/tc/code/odoo8/hrpâ€™]&lt;/h4&gt;&lt;p&gt;filelists = []&lt;/p&gt;
&lt;h4 id=&quot;æŒ‡å®šæƒ³è¦ç»Ÿè®¡çš„æ–‡ä»¶ç±»å‹&quot;&gt;&lt;a href=&quot;#æŒ‡å®šæƒ³è¦ç»Ÿè®¡çš„æ–‡ä»¶ç±»å‹&quot; class=&quot;headerlink&quot; title=&quot;æŒ‡å®šæƒ³è¦ç»Ÿè®¡çš„æ–‡ä»¶ç±»å‹&quot;&gt;&lt;/a&gt;æŒ‡å®šæƒ³è¦ç»Ÿè®¡çš„æ–‡ä»¶ç±»å‹&lt;/h4&gt;&lt;p&gt;whitelist = [â€˜xmlâ€™, â€˜pyâ€™, â€˜jsâ€™, â€˜cssâ€™]&lt;br&gt;
    
    </summary>
    
    
      <category term="Python" scheme="https://yangtiancheng.github.io/bbs.github.io/tags/Python/"/>
    
  </entry>
  
  <entry>
    <title>Odoo-Xmlrpc</title>
    <link href="https://yangtiancheng.github.io/bbs.github.io/Odoo-Xmlrpc/"/>
    <id>https://yangtiancheng.github.io/bbs.github.io/Odoo-Xmlrpc/</id>
    <published>2019-04-05T22:00:48.000Z</published>
    <updated>2019-04-05T14:47:39.555Z</updated>
    
    <content type="html"><![CDATA[<h1 id="XMLRPC"><a href="#XMLRPC" class="headerlink" title="XMLRPC"></a>XMLRPC</h1><ol><li>çœ‹ä¾‹å­<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å¤–éƒ¨è°ƒç”¨</span><br><span class="line">url:http://localhost:8069/xmlrpc/2/object</span><br><span class="line">method:post</span><br><span class="line">application/xml</span><br></pre></td></tr></table></figure></li></ol><a id="more"></a><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--XMLè¯·æ±‚æŠ¥æ–‡ç»“æ„--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">methodCall</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- used to call methods of odoo models --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">methodName</span>&gt;</span>execute<span class="tag">&lt;/<span class="name">methodName</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">params</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--æ•°æ®åº“åç§°--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span><span class="tag">&lt;<span class="name">string</span>&gt;</span>zocx919<span class="tag">&lt;/<span class="name">string</span>&gt;</span><span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--ç™»å½•ç”¨æˆ·ID--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span><span class="tag">&lt;<span class="name">int</span>&gt;</span>ç”¨æˆ·ID<span class="tag">&lt;/<span class="name">int</span>&gt;</span><span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--ç”¨æˆ·ç™»å½•å¯†ç --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">string</span>&gt;</span>zochrp<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--è°ƒç”¨æ–¹æ³•å­˜åœ¨çš„æ¨¡å‹--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">string</span>&gt;</span>account.asset.asset<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--è°ƒç”¨æ–¹æ³•çš„åç§°--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">value</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">string</span>&gt;</span>get_datas<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">param</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">            <span class="comment">&lt;!--ä¼ å…¥æ–¹æ³•çš„å‚æ•°--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">struct</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">member</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--Key ä¸ç”¨å†™string å¦åˆ™æŠ¥é”™--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">name</span>&gt;</span>name<span class="tag">&lt;/<span class="name">name</span>&gt;</span> </span><br><span class="line">            <span class="comment">&lt;!--Value--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span><span class="tag">&lt;<span class="name">string</span>&gt;</span>LiMing<span class="tag">&lt;/<span class="name">string</span>&gt;</span><span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">member</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">struct</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span><span class="tag">&lt;<span class="name">int</span>&gt;</span>1<span class="tag">&lt;/<span class="name">int</span>&gt;</span><span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">params</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">methodCall</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å“åº”æ–¹æ³•</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HrpZocAccountAssetAsset</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    _inherit = <span class="string">"account.asset.asset"</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @api.model</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_datas</span><span class="params">(self, vals)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">'ok............'</span></span><br><span class="line">        <span class="keyword">return</span> vals</span><br><span class="line">        <span class="comment"># è¿”å›å€¼ è¦æ‹¼æ¥æˆ å­—å…¸ ç±»å‹ï¼Œ xmlrpcè‡ªåŠ¨è§£æè¿”å›xmlæ ¼å¼å“åº”æŠ¥æ–‡</span></span><br></pre></td></tr></table></figure><ol start="2"><li><p>åˆ†æ<br>1ã€è°ƒç”¨çš„æ•°æ®ä¸­è®°å¾—å¿…é¡»ä½¿ç”¨çš„æ˜¯object<br>2ã€XMLè¯·æ±‚æŠ¥æ–‡ä¸­ arrayæ ‡ç­¾ç±»ä¼¼äºpythonä¸­çš„åˆ—è¡¨ï¼Œstructæ ‡ç­¾ç±»ä¼¼äºpythonä¸­çš„å­—å…¸ï¼Œstructç»“æ„ä¸­åªèƒ½å‡ºç°æ ¼å¼:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">member</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">name</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>xxx<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">member</span>&gt;</span></span><br></pre></td></tr></table></figure><p>3ã€pythonä»£ç ä¸­éœ€è¦å®šä¹‰ç‰¹å®šçš„æ¥æ”¶æ–¹æ³•ï¼Œå¹¶ä¸”è¿”å›ä¸€ä¸ªæ•°æ®å­—å…¸</p></li><li><p>å…¶ä»–<br>æš‚æ— </p></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;XMLRPC&quot;&gt;&lt;a href=&quot;#XMLRPC&quot; class=&quot;headerlink&quot; title=&quot;XMLRPC&quot;&gt;&lt;/a&gt;XMLRPC&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;çœ‹ä¾‹å­&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;å¤–éƒ¨è°ƒç”¨&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;url:http://localhost:8069/xmlrpc/2/object&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;method:post&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;application/xml&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="Odoo" scheme="https://yangtiancheng.github.io/bbs.github.io/tags/Odoo/"/>
    
  </entry>
  
  <entry>
    <title>Odoo-Jsonrpc</title>
    <link href="https://yangtiancheng.github.io/bbs.github.io/Odoo-Jsonrpc/"/>
    <id>https://yangtiancheng.github.io/bbs.github.io/Odoo-Jsonrpc/</id>
    <published>2019-04-05T22:00:03.000Z</published>
    <updated>2019-04-05T14:47:39.570Z</updated>
    
    <content type="html"><![CDATA[<h1 id="JSONRPC"><a href="#JSONRPC" class="headerlink" title="JSONRPC"></a>JSONRPC</h1><ol><li>çœ‹ä¾‹å­<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å¤–éƒ¨è°ƒç”¨</span><br><span class="line">url:http://localhost:8069/jsonrpc</span><br><span class="line">method:post</span><br><span class="line">application/json</span><br></pre></td></tr></table></figure></li></ol><a id="more"></a><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="attr">"jsonrpc"</span>: <span class="string">"2.0"</span>,</span><br><span class="line">    <span class="attr">"method"</span>: <span class="string">"call"</span>,</span><br><span class="line">    <span class="attr">"params"</span>: &#123;</span><br><span class="line">        <span class="attr">"service"</span>: <span class="string">"object"</span>,</span><br><span class="line">        <span class="attr">"method"</span>: <span class="string">"execute"</span>,</span><br><span class="line">        <span class="attr">"args"</span>: [<span class="string">"æ•°æ®åº“åç§°"</span>, ç™»å½•ç”¨æˆ·ID, <span class="string">"ç™»å½•ç”¨æˆ·å¯†ç "</span>, <span class="string">"æ¨¡å‹"</span>, <span class="string">"æ–¹æ³•"</span>,</span><br><span class="line">            [</span><br><span class="line">              'å‚æ•°åŠåˆ'</span><br><span class="line">            ]</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># å“åº”æ–¹æ³•</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HrpZocAccountAssetAsset</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    _inherit = <span class="string">"account.asset.asset"</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @api.model</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_datas</span><span class="params">(self, vals)</span>:</span></span><br><span class="line">        <span class="keyword">print</span> <span class="string">'ok............'</span></span><br><span class="line">        <span class="keyword">return</span> vals</span><br><span class="line">        <span class="comment"># è¿”å›å€¼ è¦æ‹¼æ¥æˆ å­—å…¸ ç±»å‹å“åº”æŠ¥æ–‡</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;JSONRPC&quot;&gt;&lt;a href=&quot;#JSONRPC&quot; class=&quot;headerlink&quot; title=&quot;JSONRPC&quot;&gt;&lt;/a&gt;JSONRPC&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;çœ‹ä¾‹å­&lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;å¤–éƒ¨è°ƒç”¨&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;url:http://localhost:8069/jsonrpc&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;method:post&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;application/json&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="Odoo" scheme="https://yangtiancheng.github.io/bbs.github.io/tags/Odoo/"/>
    
  </entry>
  
  <entry>
    <title>Odoo-QWeb</title>
    <link href="https://yangtiancheng.github.io/bbs.github.io/Odoo-QWeb/"/>
    <id>https://yangtiancheng.github.io/bbs.github.io/Odoo-QWeb/</id>
    <published>2019-04-05T21:57:58.000Z</published>
    <updated>2019-04-05T14:54:08.699Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Base"><a href="#Base" class="headerlink" title="Base"></a>Base</h1><hr><h2 id="Template"><a href="#Template" class="headerlink" title="Template"></a>Template</h2><ul><li>/static/src/xml/*.xml å®šä¹‰æ¨¡æ¿ã€‚</li><li><strong>openerp</strong>.pyçš„qwebä¸­æ³¨å†Œ*.xmlæ–‡ä»¶</li></ul><hr><h2 id="JSåŠ è½½æ¨¡æ¿-ä¸¤ç§"><a href="#JSåŠ è½½æ¨¡æ¿-ä¸¤ç§" class="headerlink" title="JSåŠ è½½æ¨¡æ¿(ä¸¤ç§)"></a>JSåŠ è½½æ¨¡æ¿(ä¸¤ç§)</h2><ul><li>QWeb.render(æ¨¡æ¿åç§°)</li><li>template: â€œæ¨¡æ¿åç§°â€<a id="more"></a></li></ul><hr><h2 id="JSè°ƒç”¨æ¨¡æ¿ä¼ å‚-ä¸¤ç§"><a href="#JSè°ƒç”¨æ¨¡æ¿ä¼ å‚-ä¸¤ç§" class="headerlink" title="JSè°ƒç”¨æ¨¡æ¿ä¼ å‚(ä¸¤ç§)"></a>JSè°ƒç”¨æ¨¡æ¿ä¼ å‚(ä¸¤ç§)</h2><ul><li>QWeb.render(æ¨¡æ¿åç§°,å‚æ•°å­—å…¸)<ul><li>templateæ¥æ”¶æ˜¾ç¤º\<t t-esc="å‚æ•°åç§°"></t></li></ul></li><li><p>template: â€œæ¨¡æ¿åç§°â€</p><ul><li>é€šè¿‡initæ–¹æ³•åˆå§‹åŒ–å‚æ•°,é€šè¿‡thisä¼ é€’(æ³¨æ„parentå‚æ•°å’Œç»§æ‰¿_superæ–¹æ³•å¿…é¡»ä½¿ç”¨)<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">init: <span class="function"><span class="keyword">function</span>(<span class="params">parent</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>._super(parent);</span><br><span class="line">        <span class="keyword">this</span>.name = <span class="string">"Mordecai"</span>;</span><br><span class="line">    &#125;,</span><br></pre></td></tr></table></figure></li></ul><ul><li>templateæ¥æ”¶æ˜¾ç¤º\<t t-esc="widget.å‚æ•°åç§°"></t></li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Base&quot;&gt;&lt;a href=&quot;#Base&quot; class=&quot;headerlink&quot; title=&quot;Base&quot;&gt;&lt;/a&gt;Base&lt;/h1&gt;&lt;hr&gt;

&lt;h2 id=&quot;Template&quot;&gt;&lt;a href=&quot;#Template&quot; class=&quot;headerlink&quot; title=&quot;Template&quot;&gt;&lt;/a&gt;Template&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;/static/src/xml/*.xml å®šä¹‰æ¨¡æ¿ã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;openerp&lt;/strong&gt;.pyçš„qwebä¸­æ³¨å†Œ*.xmlæ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;

&lt;h2 id=&quot;JSåŠ è½½æ¨¡æ¿-ä¸¤ç§&quot;&gt;&lt;a href=&quot;#JSåŠ è½½æ¨¡æ¿-ä¸¤ç§&quot; class=&quot;headerlink&quot; title=&quot;JSåŠ è½½æ¨¡æ¿(ä¸¤ç§)&quot;&gt;&lt;/a&gt;JSåŠ è½½æ¨¡æ¿(ä¸¤ç§)&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;QWeb.render(æ¨¡æ¿åç§°)&lt;/li&gt;
&lt;li&gt;template: â€œæ¨¡æ¿åç§°â€
    
    </summary>
    
    
      <category term="Odoo-Qweb" scheme="https://yangtiancheng.github.io/bbs.github.io/tags/Odoo-Qweb/"/>
    
  </entry>
  
  <entry>
    <title>Odoo-æŠ¥è¡¨</title>
    <link href="https://yangtiancheng.github.io/bbs.github.io/Odoo-%E6%8A%A5%E8%A1%A8/"/>
    <id>https://yangtiancheng.github.io/bbs.github.io/Odoo-æŠ¥è¡¨/</id>
    <published>2019-04-05T21:48:41.000Z</published>
    <updated>2019-04-05T14:47:39.581Z</updated>
    
    <content type="html"><![CDATA[<h1 id="pdfæŠ¥è¡¨"><a href="#pdfæŠ¥è¡¨" class="headerlink" title="pdfæŠ¥è¡¨"></a>pdfæŠ¥è¡¨</h1><h2 id="PDFæŠ¥è¡¨ç»“æ„"><a href="#PDFæŠ¥è¡¨ç»“æ„" class="headerlink" title="PDFæŠ¥è¡¨ç»“æ„"></a>PDFæŠ¥è¡¨ç»“æ„</h2><ul><li>ä¸€ä¸ªXMLæ•°æ®é…ç½®æ–‡ä»¶</li><li>ä¸€ä¸ªpyæ–‡ä»¶</li></ul><p>OdooåŸç”Ÿçš„æŠ¥è¡¨é€šè¿‡HTMLæˆ–è€…QWebå®šä¹‰ï¼Œå¯ä»¥é€šè¿‡Qwebæ§åˆ¶æµå·¥å…·ï¼Œä½¿ç”¨wkhtmltopdfæ¥æ³¨å†Œpdfã€‚<br>å®šä¹‰ä¸€ä¸ªæŠ¥è¡¨çš„ä¸»è¦éœ€è¦å®šä¹‰1.æŠ¥è¡¨ 2.æŠ¥è¡¨æ¨¡æ¿ 3.å¯ä»¥ä¸ªæ€§åŒ–æ ¼å¼ 4.å¯ä»¥å®¢æˆ·åŒ–classæ¥ä¸ºæŠ¥è¡¨çš„æ•°æ®æœåŠ¡<br><a id="more"></a></p><h2 id="Report"><a href="#Report" class="headerlink" title="Report"></a>Report</h2><ol><li>æŠ¥è¡¨éƒ½éœ€è¦å®šä¹‰ä¸€ä¸ª report_actionï¼š<br> å¯ä»¥é€šè¿‡ä¸€ä¸ª<report>æ ‡ç­¾æ¥å®šä¹‰ report_action.æ ¼å¼å®šä¹‰ï¼š<br> id - æ˜¯report_actionçš„å¤–éƒ¨ID(ir_model_dataå¯æŸ¥)<br> name(å¿…è¾“) - æ•°æ®åº“ä¸­çš„report_name ç”¨äºå¯¹åº”æŠ¥è¡¨æ¨¡æ¿çš„å¤–éƒ¨ID<br> file - æ•°æ®åº“ä¸­çš„report_file ä¸nameç›¸åŒ<br> string - PDFæŠ¥è¡¨åç§° actionçš„ä¸‹æ‹‰åç§°<br> model(å¿…è¾“) - æŠ¥è¡¨æ”¾é‚£ä¸ªmodelçš„ç•Œé¢ä¸Š<br> report_type(å¿…è¾“) - æŠ¥è¡¨ç±»å‹ ç›®å‰æˆ‘ä»¬è®¤ä¸ºå®ƒåªæœ‰ä¸¤ç§æ‰“å°PDFçš„qweb-pdfã€å’Œæ‰“å°HTMLçš„qweb-html.<br> report_name - æŠ¥è¡¨åç§° è¾“å‡ºæŠ¥è¡¨çš„åå­—<br> groups - ç»„æƒé™æ§åˆ¶ å“ªä¸ªå¯¹åº”çš„ç”¨æˆ·ç»„èƒ½å¤Ÿè§¦å‘æŠ¥è¡¨æ“ä½œ<br> attachment_use - bool(true/false) å¦‚æœè®¾ç½®æˆTrueåˆ™ä¼šå°†æ‰“å°çš„æŠ¥è¡¨ä»¥é™„ä»¶attachmentçš„å½¢å¼å­˜å‚¨åœ¨ç³»ç»Ÿçš„é™„ä»¶ç³»ç»Ÿä¸­ï¼Œç”¨äºä¸€æ¬¡ä½¿ç”¨ï¼Œéœ€è¦æµ‹è¯•ã€‚<br> attachment - pythoné€»è¾‘èµ‹å€¼è¡¨è¾¾å¼ï¼Œç”¨æ¥å®šä¹‰é™„ä»¶å­˜å‚¨çš„æ–‡ä»¶åç§° å¯ä½¿ç”¨ä¸€å®šçš„é€»è¾‘åˆ¤æ–­èµ‹å€¼ã€‚<br> paperformat - é»˜è®¤å®šä¹‰ä¸ºå…¬å¸ä¸‹çš„çº¸å¼ æ ¼å¼ å¦‚æœæœ‰ç‰¹æ®Šéœ€è¦å¯ä»¥è‡ªå®šä¹‰çº¸å¼ æ ¼å¼ã€‚</report></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">report</span></span></span><br><span class="line"><span class="tag">    <span class="attr">id</span>=<span class="string">"account_invoices"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">model</span>=<span class="string">"account.invoice"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">string</span>=<span class="string">"Invoices"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">report_type</span>=<span class="string">"qweb-pdf"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">name</span>=<span class="string">"account.report_invoice"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">file</span>=<span class="string">"account.report_invoice"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">attachment_use</span>=<span class="string">"True"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">attachment</span>=<span class="string">"(object.state in ('open','paid')) and</span></span></span><br><span class="line"><span class="tag"><span class="string">        ('INV'+(object.number or '').replace('/','')+'.pdf')"</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Report-Template"><a href="#Report-Template" class="headerlink" title="Report Template"></a>Report Template</h2><ol><li><p>æŠ¥è¡¨æ¨¡æ¿ä¸­callå¤–éƒ¨å¸ƒå±€æ ·å¼ï¼Œå®ƒå°†æ·»åŠ é»˜è®¤çš„æŠ¥è¡¨å¤´å’ŒæŠ¥è¡¨å°¾ã€‚PDFæŠ¥è¡¨ä½“æ±ŸåŒ—åŒ…å«åœ¨<div class="page">æ ‡ç­¾ä¸­ï¼Œtemplateçš„å¤–éƒ¨idå¿…é¡»ç¬¦åˆæŠ¥è¡¨å®šä¹‰è§„åˆ™ï¼Œä»Qwebæ¨¡æ¿ä¸­ï¼Œèƒ½å¤Ÿé€šè¿‡docsè®¿é—®å¯¹è±¡åŒ…å«çš„æ‰€æœ‰å­—æ®µã€‚</div></p></li><li><p>æŠ¥è¡¨ä¸­æœ‰ä¸€äº›ç‰¹å®šçš„å˜é‡:<br> docs - å½“å‰æŠ¥è¡¨çš„è®°å½•é›†åˆ(æ•°æ®)<br> doc_ids - å½“å‰æŠ¥è¡¨çš„è®°å½•é›†åˆçš„idsåˆ—è¡¨<br> doc_model - docsåŒ…å«çš„æ•°æ®è®°å½•æ¥æºmodel<br> time - ä»pythonæ ‡å‡†åº“ä¸­å¼•ç”¨çš„timeå¯¹è±¡<br> user - æ‰“å°æŠ¥è¡¨çš„ç”¨æˆ·<br> res_company - å½“å‰æ‰“å°æŠ¥è¡¨ç”¨æˆ·å¯¹åº”å…¬å¸<br> å¦‚æœéœ€è¦è®¿é—®å…¶ä»–æ¨¡å‹çš„è®°å½•é›†ï¼Œå¯ä»¥å…³æ³¨åç»­çš„å®¢æˆ·è¯æŠ¥è¡¨ã€‚</p></li><li><p>Translatable Templates(å¯ç¿»è¯‘çš„æ¨¡æ¿)<br>å¦‚æœéœ€è¦æ ¹æ®ä¸šåŠ¡ä¼™ä¼´çš„è¯­è¨€æ¥æ‰“å°å¯¹åº”è¯­è¨€æ ¼å¼çš„æŠ¥è¡¨ï¼Œéœ€è¦å®šä¹‰ä¸¤ä¸ªæ¨¡æ¿ã€‚</p></li></ol><ul><li>ä¸»æŠ¥è¡¨æ¨¡æ¿</li><li>å¯ç¿»è¯‘çš„æ–‡ä»¶</li></ul><p>å¯ä»¥åœ¨ä¸»æŠ¥è¡¨æ¨¡æ¿ä¸­åŠ å…¥t-langå±æ€§è®¾ç½®è¯­è¨€æ¥ç›´æ¥è°ƒç”¨ç¿»è¯‘æ–‡ä»¶ï¼Œå¦‚æœéœ€è¦å¯¹ä½¿ç”¨çš„å­—æ®µç­‰è¿›è¡Œç¿»è¯‘ï¼Œå¯ä»¥å¯¹å­—æ®µé™„å±çš„å¯¹è±¡ä¼ å…¥ç›¸åº”çš„contextå‚æ•°ï¼Œä½¿å¯¹è±¡å˜çš„å¯ç¿»è¯‘ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¦‚æœæ²¡æœ‰æƒ³è¦ç¿»è¯‘ï¼Œæœ€å¥½ä¸å†™ï¼Œå› ä¸ºå†™å…¥ä¼šé‡è¯»è®°å½•ï¼Œå½±å“æ‰“å°æ•ˆç‡</span><br></pre></td></tr></table></figure></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Main template --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"report_saleorder"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">t</span> <span class="attr">t-call</span>=<span class="string">"web.html_container"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">t</span> <span class="attr">t-foreach</span>=<span class="string">"docs"</span> <span class="attr">t-as</span>=<span class="string">"doc"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">t</span> <span class="attr">t-call</span>=<span class="string">"sale.report_saleorder_document"</span> <span class="attr">t-lang</span>=<span class="string">"doc.partner_id.lang"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">t</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">t</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- Translatable template --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"report_saleorder_document"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Re-browse of the record with the partner lang --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">t</span> <span class="attr">t-set</span>=<span class="string">"doc"</span> <span class="attr">t-value</span>=<span class="string">"doc.with_context(&#123;'lang':doc.partner_id.lang&#125;)"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">t</span> <span class="attr">t-call</span>=<span class="string">"web.external_layout"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"page"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"oe_structure"</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-xs-6"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">strong</span> <span class="attr">t-if</span>=<span class="string">"doc.partner_shipping_id == doc.partner_invoice_id"</span>&gt;</span>Invoice and shipping address:<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">strong</span> <span class="attr">t-if</span>=<span class="string">"doc.partner_shipping_id != doc.partner_invoice_id"</span>&gt;</span>Invoice address:<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">t-field</span>=<span class="string">"doc.partner_invoice_id"</span> <span class="attr">t-options</span>=<span class="string">"&#123;&amp;quot;no_marker&amp;quot;: True&#125;"</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">...</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"oe_structure"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">t</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è§£é‡Šä¸€ä¸‹:ä¸»æŠ¥è¡¨æ¨¡æ¿è°ƒç”¨é™„åŠ contextå±æ€§t-langä¸ºdoc.partner_id.lang çš„ç¿»è¯‘æ¨¡æ¿ï¼Œè¿™æ ·å°±ä¼šè¢«å¯¹åº”çš„è¯­è¨€æ¸²æŸ“ã€‚è¿™æ ·çš„è¯ï¼ŒæŠ¥è¡¨å°±ä¼šæ‰“å°æˆå¯¹åº”ä¸šåŠ¡ä¼™ä¼´è¯­è¨€çš„æŠ¥è¡¨ã€‚å¦‚æœåªéœ€è¦è½¬æ¢æŠ¥è¡¨ä½“å†…å®¹è€Œä¸åŠ¨æŠ¥è¡¨å¤´/å°¾éƒ¨åˆ†ï¼Œå¯ä»¥ï¼š<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">t</span> <span class="attr">t-call</span>=<span class="string">"web.external_layout"</span> <span class="attr">t-lang</span>=<span class="string">"en_US"</span>&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="Barcodes-æ¡å½¢ç "><a href="#Barcodes-æ¡å½¢ç " class="headerlink" title="Barcodes(æ¡å½¢ç )"></a>Barcodes(æ¡å½¢ç )</h2><p>å¯ä»¥å¾ˆæ–¹ä¾¿çš„å€ŸåŠ©Qwebçš„è¯­æ³•å°†æ¡å½¢ç åµŒå…¥åˆ°æ¨¡æ¿ä¸­<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">t-att-src</span>=<span class="string">"'/report/barcode/QR/%s' % 'My text in qr code'"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p><p>å¯ä»¥ä¼ é€’ä¸€äº›å‚æ•°ï¼š<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">t-att-src</span>=<span class="string">"'/report/barcode/?</span></span></span><br><span class="line"><span class="tag"><span class="string">    type=%s&amp;value=%s&amp;width=%s&amp;height=%s'%('QR', 'text', 200, 200)"</span>/&gt;</span></span><br></pre></td></tr></table></figure></p><h2 id="Useful-Remarks-æœ‰æ•ˆçš„è¯­æ³•"><a href="#Useful-Remarks-æœ‰æ•ˆçš„è¯­æ³•" class="headerlink" title="Useful Remarks(æœ‰æ•ˆçš„è¯­æ³•)"></a>Useful Remarks(æœ‰æ•ˆçš„è¯­æ³•)</h2><ol><li>Report Templateå¯ä»¥ä½¿ç”¨Twitter Bootstrap å’Œ FontAwesomeç±»æ¥æ¸²æŸ“ã€‚</li><li>æœ¬åœ°CSSå¯ä»¥åœ¨Templateä¸­ä½¿ç”¨ã€‚</li><li>å¯ä»¥é€šè¿‡ç»§æ‰¿ä¸»æŠ¥è¡¨æ ·å¼æ¥æ’å…¥åˆ°æˆ‘ä»¬çš„cssä¸­ã€‚</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"report_saleorder_style"</span> <span class="attr">inherit_id</span>=<span class="string">"report.style"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">xpath</span> <span class="attr">expr</span>=<span class="string">"."</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">t</span>&gt;</span></span><br><span class="line">      .example-css-class &#123;</span><br><span class="line">        background-color: red;</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">t</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">xpath</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Paper-Format-çº¸å¼ æ ¼å¼"><a href="#Paper-Format-çº¸å¼ æ ¼å¼" class="headerlink" title="Paper Format(çº¸å¼ æ ¼å¼)"></a>Paper Format(çº¸å¼ æ ¼å¼)</h2><p>æŠ¥è¡¨æ ¼å¼æ˜¯report.paperformatå¯¹è±¡çš„è®°å½•ï¼Œå®ƒä»¬ç»å¸¸åŒ…æ‹¬å¦‚ä¸‹å‡ ä¸ªå‚æ•°:<br>    name(å¿…è¾“) - å¯æ ‡è¯†æ ·æ¿æ ¼å¼çš„ç®€è¦åç§°<br>    description - å¯¹æ ·æ¿ç®€çŸ­çš„ä»‹ç»<br>    format - é¢„å®šä¹‰æ ¼å¼A0-A9 B0-B9 Legal Letter Tabloidâ€¦ é»˜è®¤æ˜¯A4ï¼Œå¦‚æœå®šä¹‰äº†è¿™ä¸ªå‚æ•°å°†æ— æ³•ä½¿ç”¨ä¸ªæ€§åŒ–çš„æ ¼å¼ã€‚<br>    dpi - è¾“å‡ºçš„DPI é»˜è®¤ä¸º90<br>    margin_top, margin_bottom, margin_left, margin_right - è¾¹è·å¤§å°é»˜è®¤å•ä½mm<br>    page_height , page_width - é¡µé¢å°ºå¯¸ é»˜è®¤å•ä½mm<br>    orientation - Landscape æˆ–è€… Portrait<br>    header_line - å¸ƒå°”å€¼ æ˜¯å¦æ˜¾ç¤ºå¤´è¡Œ<br>    header_spacing - å¤´ç©ºé—´ é»˜è®¤å•ä½mm</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">record</span> <span class="attr">id</span>=<span class="string">"paperformat_frenchcheck"</span> <span class="attr">model</span>=<span class="string">"report.paperformat"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"name"</span>&gt;</span>French Bank Check<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"default"</span> <span class="attr">eval</span>=<span class="string">"True"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"format"</span>&gt;</span>custom<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"page_height"</span>&gt;</span>80<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"page_width"</span>&gt;</span>175<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"orientation"</span>&gt;</span>Portrait<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"margin_top"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"margin_bottom"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"margin_left"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"margin_right"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"header_line"</span> <span class="attr">eval</span>=<span class="string">"False"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"header_spacing"</span>&gt;</span>3<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"dpi"</span>&gt;</span>80<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">record</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å®¢æˆ·åŒ–æŠ¥è¡¨"><a href="#å®¢æˆ·åŒ–æŠ¥è¡¨" class="headerlink" title="å®¢æˆ·åŒ–æŠ¥è¡¨"></a>å®¢æˆ·åŒ–æŠ¥è¡¨</h2><p>æŠ¥è¡¨modelæœ‰ä¸€ä¸ªget_htmlæ–¹æ³•ï¼Œå°±æ˜¯é€šè¿‡report.{module.report_name}æ¥å¯»æ‰¾å®¢æˆ·åŒ–æŠ¥è¡¨modelï¼Œå¦‚æœæ‰¾åˆ°çš„è¯ï¼Œå°†ä½¿ç”¨æ‰¾åˆ°çš„è¿™ä¸ªç±»æ¥è°ƒç”¨Qwebå¼•æ“,å¦åˆ™å°±è°ƒç”¨é»˜è®¤æ–¹æ³•ã€‚å¦‚æœå¸Œæœ›å®¢æˆ·åŒ–ä¸€ä¸ªåŒ…å«äº†å„ç§é¡¹çš„æŠ¥è¡¨æ¨¡æ¿ï¼Œå°±å¯ä»¥å®šä¹‰è¿™ä¸ªmodelï¼Œé‡å†™render_htmlæ–¹æ³•ï¼Œå¹¶ä¸”åœ¨docargsåˆ—è¡¨ä¸­ä¼ é€’æ•°æ®ã€‚</p><h2 id="æŠ¥è¡¨éƒ½å¯ä»¥åœ¨webé¡µé¢ä¸Šæ˜¾ç¤º"><a href="#æŠ¥è¡¨éƒ½å¯ä»¥åœ¨webé¡µé¢ä¸Šæ˜¾ç¤º" class="headerlink" title="æŠ¥è¡¨éƒ½å¯ä»¥åœ¨webé¡µé¢ä¸Šæ˜¾ç¤º"></a>æŠ¥è¡¨éƒ½å¯ä»¥åœ¨webé¡µé¢ä¸Šæ˜¾ç¤º</h2><p>å¯ä»¥é€šè¿‡ä¾‹å¦‚:<br>http://<server-address>/report/html/sale.report_saleorder/38<br>http://<server-address>/report/pdf/sale.report_saleorder/38<br>å¦‚ä¸Šæ–¹å¼è®¿é—®html/pdfçš„æŠ¥è¡¨</server-address></server-address></p><h2 id="Odoo11-PDFæŠ¥è¡¨å®ä¾‹æµç¨‹"><a href="#Odoo11-PDFæŠ¥è¡¨å®ä¾‹æµç¨‹" class="headerlink" title="Odoo11 PDFæŠ¥è¡¨å®ä¾‹æµç¨‹"></a>Odoo11 PDFæŠ¥è¡¨å®ä¾‹æµç¨‹</h2><h3 id="1-åˆ›å»ºä¸€ä¸ªir-actions-reportå¯¹è±¡"><a href="#1-åˆ›å»ºä¸€ä¸ªir-actions-reportå¯¹è±¡" class="headerlink" title="1.åˆ›å»ºä¸€ä¸ªir.actions.reportå¯¹è±¡"></a>1.åˆ›å»ºä¸€ä¸ªir.actions.reportå¯¹è±¡</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">report</span></span></span><br><span class="line"><span class="tag">    <span class="attr">string</span>=<span class="string">"ç•Œé¢æ‰“å°ä¸‹æ‹‰æ¡†å¤„æ˜¾ç¤ºçš„æ–‡å­—"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">id</span>=<span class="string">"ir_model_dataè¡¨ä¸­åˆ›å»ºçš„æ•°æ®è®°å½•name å…¶å®å°±æ˜¯å¤–éƒ¨idâ‘ "</span></span></span><br><span class="line"><span class="tag">    <span class="attr">model</span>=<span class="string">"æŠ¥è¡¨ç»‘å®šçš„model åœ¨å“ªä¸ªç•Œé¢ä¸Šæ˜¾ç¤º"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">report_type</span>=<span class="string">"æŠ¥è¡¨ç±»åˆ«/qweb-pdf"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">name</span>=<span class="string">"hrp_asset.report_asset_transfer_application"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">file</span>=<span class="string">"hrp_asset.report_asset_transfer_application"</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br></pre></td></tr></table></figure><h3 id="XMLæ–‡ä»¶ä¸­"><a href="#XMLæ–‡ä»¶ä¸­" class="headerlink" title="XMLæ–‡ä»¶ä¸­"></a>XMLæ–‡ä»¶ä¸­</h3><ol><li><p>é¦–å…ˆä»‹ç»ä¸€ä¸‹XMLæ–‡ä»¶ä¸­çš„åŸºç¡€æ ¼å¼:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">openerp</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">data</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">data</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">openerp</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>åˆå§‹åŒ–ä¸€ä¸ªreportæ•°æ®é¡¹:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">report</span></span></span><br><span class="line"><span class="tag">    <span class="attr">string</span>=<span class="string">"ç•Œé¢æ‰“å°ä¸‹æ‹‰æ¡†å¤„æ˜¾ç¤ºçš„æ–‡å­—"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">id</span>=<span class="string">"ir_model_dataè¡¨ä¸­åˆ›å»ºçš„æ•°æ®è®°å½•name å…¶å®å°±æ˜¯å¤–éƒ¨idâ‘ "</span></span></span><br><span class="line"><span class="tag">    <span class="attr">model</span>=<span class="string">"æŠ¥è¡¨ç»‘å®šçš„model åœ¨å“ªä¸ªç•Œé¢ä¸Šæ˜¾ç¤º"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">report_type</span>=<span class="string">"æŠ¥è¡¨ç±»åˆ«/qweb-pdf"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">name</span>=<span class="string">"hrp_asset.report_asset_transfer_application"</span></span></span><br><span class="line"><span class="tag">    <span class="attr">file</span>=<span class="string">"hrp_asset.report_asset_transfer_application"</span></span></span><br><span class="line"><span class="tag">/&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>å¯¹reporté¡¹ç»‘å®šä¸€ä¸ªæ•°æ®æ¨¡æ¿ï¼Œpaperformat_idæ¥è‡ªäºreport.paperformat:</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">record</span> <span class="attr">id</span>=<span class="string">"ir_model_dataè¡¨ä¸­åˆ›å»ºçš„æ•°æ®è®°å½•name å…¶å®å°±æ˜¯å¤–éƒ¨idâ‘ "</span> <span class="attr">model</span>=<span class="string">"ir.actions.report.xml"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"paperformat_id"</span> <span class="attr">ref</span>=<span class="string">"hrp_base.paperformat_horizontal_A4"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">record</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><p>æ³¨:è¿™é‡Œçš„paperformatå¯ä»¥è‡ªè¡Œå®šä¹‰æ ·å¼</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;pdfæŠ¥è¡¨&quot;&gt;&lt;a href=&quot;#pdfæŠ¥è¡¨&quot; class=&quot;headerlink&quot; title=&quot;pdfæŠ¥è¡¨&quot;&gt;&lt;/a&gt;pdfæŠ¥è¡¨&lt;/h1&gt;&lt;h2 id=&quot;PDFæŠ¥è¡¨ç»“æ„&quot;&gt;&lt;a href=&quot;#PDFæŠ¥è¡¨ç»“æ„&quot; class=&quot;headerlink&quot; title=&quot;PDFæŠ¥è¡¨ç»“æ„&quot;&gt;&lt;/a&gt;PDFæŠ¥è¡¨ç»“æ„&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;ä¸€ä¸ªXMLæ•°æ®é…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;ä¸€ä¸ªpyæ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;OdooåŸç”Ÿçš„æŠ¥è¡¨é€šè¿‡HTMLæˆ–è€…QWebå®šä¹‰ï¼Œå¯ä»¥é€šè¿‡Qwebæ§åˆ¶æµå·¥å…·ï¼Œä½¿ç”¨wkhtmltopdfæ¥æ³¨å†Œpdfã€‚&lt;br&gt;å®šä¹‰ä¸€ä¸ªæŠ¥è¡¨çš„ä¸»è¦éœ€è¦å®šä¹‰1.æŠ¥è¡¨ 2.æŠ¥è¡¨æ¨¡æ¿ 3.å¯ä»¥ä¸ªæ€§åŒ–æ ¼å¼ 4.å¯ä»¥å®¢æˆ·åŒ–classæ¥ä¸ºæŠ¥è¡¨çš„æ•°æ®æœåŠ¡&lt;br&gt;
    
    </summary>
    
    
      <category term="Odoo" scheme="https://yangtiancheng.github.io/bbs.github.io/tags/Odoo/"/>
    
  </entry>
  
  <entry>
    <title>Odoo-Excelä¸‹è½½</title>
    <link href="https://yangtiancheng.github.io/bbs.github.io/Excel%E4%B8%8B%E8%BD%BD/"/>
    <id>https://yangtiancheng.github.io/bbs.github.io/Excelä¸‹è½½/</id>
    <published>2019-04-05T21:47:42.000Z</published>
    <updated>2019-04-05T14:45:14.551Z</updated>
    
    <content type="html"><![CDATA[<h1 id="excelä¸‹è½½"><a href="#excelä¸‹è½½" class="headerlink" title="excelä¸‹è½½"></a>excelä¸‹è½½</h1><h3 id="ç»“æ„"><a href="#ç»“æ„" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h3><p>class inherit_report_xls(report_xls)<sup>â‘ </sup><br><br>class inherit_rml_parse(report_sxw.rml_parse)<sup>â‘¡</sup></p><ol><li><p>ç¬¬ä¸€ä¸ªpythonç±»classç»§æ‰¿report_xls,ç”¨äºæ§åˆ¶ç•Œé¢æ ·å¼è°ƒæ•´ï¼Œä¸»è¦æ˜¯é‡å†™ç»§æ‰¿ç±»report_xlsä¸­çš„generate_xls_reportæ–¹æ³•ã€‚<br><br>ç»§æ‰¿report_xlsç±»çš„classåˆå§‹åŒ–ã€‚</p></li><li><p>ç¬¬äºŒä¸ªpythonç±»classç”¨äºåŸºç¡€æ•°æ®è·å–ä¸ä¼ é€’åŠŸèƒ½ã€‚<br><br>å°±æ˜¯æ–‡ä¸­çš„</p><p style="color:red;">_p</p><p></p><a id="more"></a></li><li><p>ä¸€ä¸ªodooç±»classç”¨äºä½¿ç”¨odooçš„ORMæˆ–æ–¹æ³•å®šä¹‰è·å–å¯¹åº”çš„æ•°æ®é›†åˆã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å¦å¤–:å¤§å¤šæ•°æŠ¥è¡¨éƒ½æœ‰ç›¸åº”çš„å¼¹å‡ºç•Œé¢é€‰æ‹©åŠŸèƒ½ï¼Œå¯¹åº”çš„å¯ä»¥ä½¿ç”¨è¿™ä¸ªclasså»å®šä¹‰ä¸€äº›å¼¹å‡ºæ¡†çš„é€‰æ‹©å­—æ®µï¼Œç”¨ä½œç­›é€‰æ¡ä»¶ã€‚</span><br><span class="line">æ€»ä¹‹ï¼Œè¿™ä¸ªclasså°±æ˜¯ç”¨äºå„ç§æ•°æ®é€»è¾‘å¤„ç†çš„æ¨¡å‹ã€‚</span><br></pre></td></tr></table></figure></li><li><p>å®ä¾‹åŒ–ç¬¬ä¸€ä¸ªreport_xlsç±»ï¼Œç”¨äºæ³¨å†Œä½¿ç”¨ã€‚<br><br>inherit_report_xls(â€˜report.report_nameâ€™<sup>â‘¢</sup>,â€™æŠ¥è¡¨å®šä¹‰çš„modelâ€™<sup>â‘£</sup>,â€™inherit_rml_parseâ€™<sup>â‘¤</sup>)</p></li><li><p>ä¸€ä¸ªXML,ç”¨äºå®šä¹‰formå¼¹çª—ç›¸å…³çš„Acionã€Formã€Reportä¸æ¨¡å‹è¿›è¡Œç»‘å®š</p></li><li><p>æµç¨‹ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">å®ç°æµç¨‹ï¼š</span><br><span class="line"></span><br><span class="line">    åˆ›å»ºreport_xlsçš„ç»§æ‰¿ç±»å’Œreport_sxw.rml_parseçš„ç»§æ‰¿ç±»ã€‚</span><br><span class="line">    </span><br><span class="line">    å®ä¾‹åŒ–report_xlsç»§æ‰¿ç±»</span><br><span class="line">    </span><br><span class="line">    åˆ›å»ºodooçš„classå®šä¹‰å­—æ®µã€å†™å„ç§æ–¹æ³•(ä¾‹å¦‚è·å–æ•°æ®ä¸‹è½½æŠ¥è¡¨æ–¹æ³•print_reportï¼Œæ‰“å¼€æŠ¥è¡¨é€‰æ‹©é¡µé¢çš„actionæ–¹æ³•ç­‰)ã€‚</span><br><span class="line">    </span><br><span class="line">    åˆ›å»ºXMLæ¥ä¸ªæ€§åŒ–å¼¹å‡ºæ¡†ä¸é€‰æ‹©æ¡ä»¶ï¼Œå®šä¹‰ä¸€ä¸ªprint_reportæŒ‰é’®ï¼Œå®šä¹‰ä¸€ä¸ªè¿æ¥æ•°æ®å¯¹è±¡ã€‚</span><br><span class="line">   </span><br><span class="line">æ“ä½œæµç¨‹:</span><br><span class="line">    ç‚¹å‡»æŠ¥è¡¨èœå• - å¼¹å‡ºä¸€ä¸ªformç•Œé¢(å¯èƒ½æœ‰å‚æ•°é€‰æ‹©) - å®Œæˆåç‚¹å‡»æ‰“å°æŒ‰é’®(print_report) - æŠ¥è¡¨æ‰“å°</span><br></pre></td></tr></table></figure></li></ol><p><br>å¦å¤–:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">return &#123;</span><br><span class="line">    &apos;type&apos;: &apos;ir.actions.report.xml&apos;,</span><br><span class="line">    &apos;report_name&apos;: &apos;nov.account.journal.xls&apos;,</span><br><span class="line">    &apos;datas&apos;: datas,</span><br><span class="line">    &apos;context&apos;:self.env.context&#125;</span><br></pre></td></tr></table></figure></p><p>ç›´æ¥returnè°ƒç”¨report_nameçš„æŠ¥è¡¨ï¼Œæœ‰æ—¶å€™å›ä½¿ç”¨ä¸€ä¸‹contextä¼ ç‚¹ä¸ªæ€§åŒ–çš„å‚æ•°ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">record</span> <span class="attr">id</span>=<span class="string">"action_import_move_line_details_xls"</span> <span class="attr">model</span>=<span class="string">"ir.actions.report.xml"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"name"</span>&gt;</span>Import Move Line Details<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"model"</span>&gt;</span>hrp.account.gl.account.move<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"type"</span>&gt;</span>ir.actions.report.xml<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"report_name"</span>&gt;</span>import.move.line.details.xls<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"report_type"</span>&gt;</span>xls<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"auto"</span> <span class="attr">eval</span>=<span class="string">"False"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">record</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é‡è¦çš„æ˜¯modelï¼Œreport_name,report_typeï¼š<br>    modelç›®å‰æˆ‘æ˜¯é»˜è®¤å†™çš„objectsæŒ‚è½½çš„æ¨¡å‹ï¼Œå’Œæ³¨å†Œä¸­çš„modelåç§°ç›¸åŒã€‚(åç»­äº†è§£ir.act.report.xmlçœ‹çœ‹modelæ˜¯ç”¨æ¥å¹²å•¥çš„)<br>    report_name:pythonä»£ç ä¸­returnè°ƒç”¨çš„xlsï¼Œå…¶å®å°±æ˜¯ir.act.report.xmlçš„å”¯ä¸€å±æ€§ã€‚<br>    report_type:æ˜¯æŠ¥è¡¨æ”¯æŒçš„ç±»å‹ï¼Œqweb-pdfã€qweb-htmlã€pdfã€xlsã€xlsxç­‰ã€‚</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&apos;name&apos;: &#123;</span><br><span class="line">    &apos;header&apos;: [1, 25, &apos;text&apos;, _render(&quot;_(&apos;Name&apos;)&quot;)],</span><br><span class="line">    &apos;lines&apos;: [1, 0, &apos;text&apos;, _render(&quot;line[&apos;name&apos;] or &apos;&apos;&quot;)],</span><br><span class="line">    &apos;totals&apos;: [1, 0, &apos;text&apos;, None]&#125;,</span><br></pre></td></tr></table></figure><p>â€™textâ€™é‚£ä¸ªä½ç½®æ˜¯ç”¨æ¥åˆ¤æ–­åˆå§‹åŒ–çš„ â€˜â€™</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import_move_line_details_xls(&apos;report.import.move.line.details.xls&apos;,</span><br><span class="line">                             &apos;hrp.account.gl.account.move&apos;,</span><br><span class="line">                             parser=import_move_line_details_xls_parser)</span><br></pre></td></tr></table></figure><p>æ ¼å¼ï¼šreport_xlsç»§æ‰¿ç±»(â€˜xlsåç§°â€™,â€™objectsæŒ‚è½½æ¨¡å‹â€™,â€™parserå¯¹è±¡â€™)<br>objectsæŒ‚è½½æ¨¡å‹çš„æ„æ€æ˜¯ï¼Œæˆ‘ä»¬excelçš„æ•°æ®å–å€¼æ˜¯é€šè¿‡å¯¹åº”çš„è®°å½•æ¥å–å€¼çš„ï¼Œè¿™é‡Œå¿…é¡»é€‰æ‹©å–æ•°é€»è¾‘çš„model.<br><img src="./src/img/register.jpg" alt="img"><br><img src="./src/img/objects.png" alt="img"><br>æˆ‘ä»¬å¯ä»¥å‘ç°å®ƒç›´æ¥å®šä½åˆ°äº†æˆ‘ä»¬æ‰“å°çš„å•æ®æ•°æ®ï¼Œå½“ç„¶è¿™æ˜¯åœ¨formä¸Šæˆ–è€…é€šè¿‡formçš„ä¸€ä¸ªæŒ‰é’®æ‰“å¼€ä¸€ä¸ªTransationçš„modelæ¥æ‰“å°æŠ¥è¡¨çš„ï¼Œå¦‚æœæ˜¯é‚£ç§<br>æ”¾åœ¨â€™æ›´å¤šâ€™ä¸­çš„æ‰¹é‡æ•°æ®æ‰“å°ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ç›¸åº”çš„åšä¸€äº›contextçš„å¤„ç†ã€‚</p><p><sup>é€æ­¥ç†è§£ä¸­â€¦</sup></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;excelä¸‹è½½&quot;&gt;&lt;a href=&quot;#excelä¸‹è½½&quot; class=&quot;headerlink&quot; title=&quot;excelä¸‹è½½&quot;&gt;&lt;/a&gt;excelä¸‹è½½&lt;/h1&gt;&lt;h3 id=&quot;ç»“æ„&quot;&gt;&lt;a href=&quot;#ç»“æ„&quot; class=&quot;headerlink&quot; title=&quot;ç»“æ„&quot;&gt;&lt;/a&gt;ç»“æ„&lt;/h3&gt;&lt;p&gt;class inherit_report_xls(report_xls)&lt;sup&gt;â‘ &lt;/sup&gt;&lt;br&gt;&lt;br&gt;class inherit_rml_parse(report_sxw.rml_parse)&lt;sup&gt;â‘¡&lt;/sup&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;ç¬¬ä¸€ä¸ªpythonç±»classç»§æ‰¿report_xls,ç”¨äºæ§åˆ¶ç•Œé¢æ ·å¼è°ƒæ•´ï¼Œä¸»è¦æ˜¯é‡å†™ç»§æ‰¿ç±»report_xlsä¸­çš„generate_xls_reportæ–¹æ³•ã€‚&lt;br&gt;&lt;br&gt;ç»§æ‰¿report_xlsç±»çš„classåˆå§‹åŒ–ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç¬¬äºŒä¸ªpythonç±»classç”¨äºåŸºç¡€æ•°æ®è·å–ä¸ä¼ é€’åŠŸèƒ½ã€‚&lt;br&gt;&lt;br&gt;å°±æ˜¯æ–‡ä¸­çš„&lt;/p&gt;&lt;p style=&quot;color:red;&quot;&gt;_p&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="Odoo" scheme="https://yangtiancheng.github.io/bbs.github.io/tags/Odoo/"/>
    
  </entry>
  
  <entry>
    <title>Odoo8-JSå°è®°</title>
    <link href="https://yangtiancheng.github.io/bbs.github.io/Odoo8-JS%E5%B0%8F%E8%AE%B0/"/>
    <id>https://yangtiancheng.github.io/bbs.github.io/Odoo8-JSå°è®°/</id>
    <published>2019-04-05T21:46:34.000Z</published>
    <updated>2019-04-05T14:47:39.585Z</updated>
    
    <content type="html"><![CDATA[<h1 id="JS-åŸºç¡€"><a href="#JS-åŸºç¡€" class="headerlink" title="JS - åŸºç¡€"></a>JS - åŸºç¡€</h1><h2 id="å…¥é—¨ç†è§£"><a href="#å…¥é—¨ç†è§£" class="headerlink" title="å…¥é—¨ç†è§£"></a>å…¥é—¨ç†è§£</h2><ol><li>å®šä¹‰ir.action.client å¸¦tag ä¸ç»‘å®šçš„èœå•å¯¹è±¡<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">openerp</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">data</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">record</span> <span class="attr">id</span>=<span class="string">"widget_menu_action"</span> <span class="attr">model</span>=<span class="string">"ir.actions.client"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"name"</span>&gt;</span>Widget Menu Action<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"tag"</span>&gt;</span>tps_widget.widget_menu<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">record</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">menuitem</span> <span class="attr">id</span>=<span class="string">"tps_widget_top_menu"</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">name</span>=<span class="string">"Widget Top Menu"</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">sequence</span>=<span class="string">"10"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">menuitem</span> <span class="attr">id</span>=<span class="string">"tps_widget_sub_menu"</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">name</span>=<span class="string">"Widget Sub Menu"</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">parent</span>=<span class="string">"tps_widget_top_menu"</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">sequence</span>=<span class="string">"10"</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">menuitem</span> <span class="attr">id</span>=<span class="string">"tps_widget_func_menu"</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">name</span>=<span class="string">"Widget Func Menu"</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">parent</span>=<span class="string">"tps_widget_sub_menu"</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">action</span>=<span class="string">"widget_menu_action"</span></span></span><br><span class="line"><span class="tag">                  <span class="attr">sequence</span>=<span class="string">"10"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">data</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">openerp</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><a id="more"></a><ol start="2"><li><p>å®šä¹‰ä¸€ä¸ªjsæ–‡ä»¶ - extend_widget.js åŒ…å«contentï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">openerp.tps_widget = <span class="function"><span class="keyword">function</span> (<span class="params">instance, local</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> _t = instance.web._t,</span><br><span class="line">        _lt = instance.web._lt;</span><br><span class="line">    <span class="keyword">var</span> QWeb = instance.web.qweb;</span><br><span class="line"></span><br><span class="line">    local.MyWidget = instance.Widget.extend(&#123;</span><br><span class="line">        start: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">"load Mywidget."</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">//ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯tag ç¬¬äºŒä¸ªå‚æ•°æ˜¯widgetçš„å®Œæ•´åœ°å€</span></span><br><span class="line">    instance.web.client_actions.add(<span class="string">'tps_widget.widget_menu'</span>, <span class="string">'instance.MyWidget'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¼•å…¥jsæ–‡ä»¶ï¼Œå®šä¹‰ä¸€ä¸ªxml<br>views/xxx_template.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">openerp</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">data</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">id</span>=<span class="string">"assets_backend"</span> <span class="attr">name</span>=<span class="string">"tps_widget"</span> <span class="attr">inherit_id</span>=<span class="string">"web.assets_backend"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">xpath</span> <span class="attr">expr</span>=<span class="string">"."</span> <span class="attr">position</span>=<span class="string">"inside"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/tps_widget/static/js/extend_widget.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">xpath</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">data</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">openerp</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>æ³¨æ„è¿™é‡Œæš‚æ—¶æ²¡æœ‰pyæ–‡ä»¶ï¼Œä½†æ˜¯xmlæ–‡ä»¶éœ€è¦åœ¨<strong>openerp</strong>.pyä¸­æ³¨å†Œ[å®šä¹‰èœå•çš„xml å’Œ å¼•å…¥jsçš„xml]ã€‚</p></li></ol><h2 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><blockquote><p>this</p></blockquote><blockquote><p>this.$el</p></blockquote><blockquote><p>ob.appendTo(this.$el)</p></blockquote><blockquote><p>this.getParent().$el</p></blockquote><blockquote><p>this.getChildren()[0].$el</p></blockquote><h1 id="JS-æŒ‚ä»¶"><a href="#JS-æŒ‚ä»¶" class="headerlink" title="JS - æŒ‚ä»¶"></a>JS - æŒ‚ä»¶</h1><h2 id="o2m-unique"><a href="#o2m-unique" class="headerlink" title="o2m_unique"></a>o2m_unique</h2><p>o2mä¸­çš„ä¸»æ•°æ®å­—æ®µï¼Œæ¯å¼ å•æ®åªèƒ½é€‰ä¸€æ¬¡ï¼Œå”¯ä¸€æ€§å¤„ç†ã€‚</p><h2 id="many2many-tag"><a href="#many2many-tag" class="headerlink" title="many2many_tag"></a>many2many_tag</h2><p>m2må•æ®æ•°æ®æ’åˆ—ç»„åˆä¸å¯é‡å¤</p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;JS-åŸºç¡€&quot;&gt;&lt;a href=&quot;#JS-åŸºç¡€&quot; class=&quot;headerlink&quot; title=&quot;JS - åŸºç¡€&quot;&gt;&lt;/a&gt;JS - åŸºç¡€&lt;/h1&gt;&lt;h2 id=&quot;å…¥é—¨ç†è§£&quot;&gt;&lt;a href=&quot;#å…¥é—¨ç†è§£&quot; class=&quot;headerlink&quot; title=&quot;å…¥é—¨ç†è§£&quot;&gt;&lt;/a&gt;å…¥é—¨ç†è§£&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;å®šä¹‰ir.action.client å¸¦tag ä¸ç»‘å®šçš„èœå•å¯¹è±¡&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;openerp&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;data&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;record&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;widget_menu_action&quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;model&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;ir.actions.client&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;field&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;name&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;Widget Menu Action&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;field&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;field&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;tag&quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;tps_widget.widget_menu&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;field&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;record&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;menuitem&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;tps_widget_top_menu&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;                  &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;Widget Top Menu&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;                  &lt;span class=&quot;attr&quot;&gt;sequence&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;10&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;menuitem&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;tps_widget_sub_menu&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;                  &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;Widget Sub Menu&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;                  &lt;span class=&quot;attr&quot;&gt;parent&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;tps_widget_top_menu&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;                  &lt;span class=&quot;attr&quot;&gt;sequence&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;10&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;menuitem&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;tps_widget_func_menu&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;                  &lt;span class=&quot;attr&quot;&gt;name&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;Widget Func Menu&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;                  &lt;span class=&quot;attr&quot;&gt;parent&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;tps_widget_sub_menu&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;                  &lt;span class=&quot;attr&quot;&gt;action&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;widget_menu_action&quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;                  &lt;span class=&quot;attr&quot;&gt;sequence&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&quot;10&quot;&lt;/span&gt;/&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;data&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;openerp&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
    
      <category term="Odoo-JS" scheme="https://yangtiancheng.github.io/bbs.github.io/tags/Odoo-JS/"/>
    
  </entry>
  
  <entry>
    <title>gitåŸºæœ¬æ“ä½œæŒ‡ä»¤ç¬”è®°</title>
    <link href="https://yangtiancheng.github.io/bbs.github.io/git%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C%E6%8C%87%E4%BB%A4%E7%AC%94%E8%AE%B0/"/>
    <id>https://yangtiancheng.github.io/bbs.github.io/gitåŸºæœ¬æ“ä½œæŒ‡ä»¤ç¬”è®°/</id>
    <published>2019-04-05T21:44:51.000Z</published>
    <updated>2019-04-05T14:47:39.568Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åŸºæœ¬æ“ä½œ"><a href="#åŸºæœ¬æ“ä½œ" class="headerlink" title="åŸºæœ¬æ“ä½œ"></a>åŸºæœ¬æ“ä½œ</h1><h2 id="åŸºæœ¬å‘½ä»¤"><a href="#åŸºæœ¬å‘½ä»¤" class="headerlink" title="åŸºæœ¬å‘½ä»¤"></a>åŸºæœ¬å‘½ä»¤</h2><p>git clone url</p><p>git checkout -b T1</p><p>git checkout T1<br><a id="more"></a><br>git checkout .</p><p>git branch </p><p>git branch -D T1</p><p>git branch -m T1</p><p>git status</p><p>git diff</p><p>git add .</p><p>git commit [-m â€˜messageâ€™]</p><p>git push origin T1</p><p>git fetch origin T1:T1</p><p>git merge â€“no-ff master-branch</p><p>git reset â€“mixed HEAD^</p><p>git commit â€“amend å¯ä»¥å¯¹ä¸Šä¸€æ¬¡çš„æäº¤åšä¿®æ”¹</p><p>git clean -df</p><h2 id="ä»£ç å†²çªè§£å†³æµç¨‹"><a href="#ä»£ç å†²çªè§£å†³æµç¨‹" class="headerlink" title="ä»£ç å†²çªè§£å†³æµç¨‹"></a>ä»£ç å†²çªè§£å†³æµç¨‹</h2><ol><li>git checkout test</li><li>git pull origin test</li><li>git checkout ä»»åŠ¡åˆ†æ”¯</li><li>git checkout -b ä»»åŠ¡åˆ†æ”¯-1</li><li>git merge â€“no-ff test</li><li>ä»£ç ä¸­è§£å†³å†²çª</li><li>git add .</li><li>git commit</li><li>git push origin ä»»åŠ¡åˆ†æ”¯-1</li><li>gitlabä¸Šåˆå¹¶ ä»»åŠ¡åˆ†æ”¯-1 åˆ° test</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;åŸºæœ¬æ“ä½œ&quot;&gt;&lt;a href=&quot;#åŸºæœ¬æ“ä½œ&quot; class=&quot;headerlink&quot; title=&quot;åŸºæœ¬æ“ä½œ&quot;&gt;&lt;/a&gt;åŸºæœ¬æ“ä½œ&lt;/h1&gt;&lt;h2 id=&quot;åŸºæœ¬å‘½ä»¤&quot;&gt;&lt;a href=&quot;#åŸºæœ¬å‘½ä»¤&quot; class=&quot;headerlink&quot; title=&quot;åŸºæœ¬å‘½ä»¤&quot;&gt;&lt;/a&gt;åŸºæœ¬å‘½ä»¤&lt;/h2&gt;&lt;p&gt;git clone url&lt;/p&gt;
&lt;p&gt;git checkout -b T1&lt;/p&gt;
&lt;p&gt;git checkout T1&lt;br&gt;
    
    </summary>
    
    
      <category term="Git" scheme="https://yangtiancheng.github.io/bbs.github.io/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>Odoo-ç¿»è¯‘</title>
    <link href="https://yangtiancheng.github.io/bbs.github.io/Odoo-%E7%BF%BB%E8%AF%91/"/>
    <id>https://yangtiancheng.github.io/bbs.github.io/Odoo-ç¿»è¯‘/</id>
    <published>2019-04-05T21:43:56.000Z</published>
    <updated>2019-04-05T14:56:00.689Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ir-translationç®€ç« "><a href="#ir-translationç®€ç« " class="headerlink" title="ir_translationç®€ç« "></a>ir_translationç®€ç« </h1><p>[å­—æ®µ]<br>lang<br>src<br>name<br>res_id<br>module<br>state<br>comments<br>value<br>type<br><a id="more"></a></p><hr><h2 id="å‡ ç§ç¿»è¯‘çš„åŠ è½½æ–¹å¼"><a href="#å‡ ç§ç¿»è¯‘çš„åŠ è½½æ–¹å¼" class="headerlink" title="å‡ ç§ç¿»è¯‘çš„åŠ è½½æ–¹å¼"></a>å‡ ç§ç¿»è¯‘çš„åŠ è½½æ–¹å¼</h2><p>æ™®é€šæŒ‰é’®ç¿»è¯‘</p><blockquote><p>ç›´æ¥åŠ è½½ç¿»è¯‘</p></blockquote><p>æ³¨:(XMLä¸Šçš„æŒ‰é’®ç¿»è¯‘æ—§æºä¸è®¤è¯†ä¸‹åˆ’çº¿_)<br><img src="./imgs/trans02.jpg" alt="ä¿®æ”¹xml"><br><img src="./imgs/trans01.jpg" alt="æ•ˆæœ"></p><hr><h2 id="æŠ¥è¡¨ç¿»è¯‘"><a href="#æŠ¥è¡¨ç¿»è¯‘" class="headerlink" title="æŠ¥è¡¨ç¿»è¯‘"></a>æŠ¥è¡¨ç¿»è¯‘</h2><p>report:report_name:0 ç›´æ¥åŠ è½½ç¿»è¯‘</p><hr><h2 id="èœå•ç¿»è¯‘"><a href="#èœå•ç¿»è¯‘" class="headerlink" title="èœå•ç¿»è¯‘"></a>èœå•ç¿»è¯‘</h2><p>é‡å¯ - å‡çº§ - åŠ è½½ç¿»è¯‘</p><hr><h2 id="å­—æ®µç¿»è¯‘"><a href="#å­—æ®µç¿»è¯‘" class="headerlink" title="å­—æ®µç¿»è¯‘"></a>å­—æ®µç¿»è¯‘</h2><p>ç›´æ¥åŠ è½½ç¿»è¯‘</p><hr><h2 id="codeç¿»è¯‘"><a href="#codeç¿»è¯‘" class="headerlink" title="codeç¿»è¯‘"></a>codeç¿»è¯‘</h2><p>ç›´æ¥åŠ è½½ç¿»è¯‘</p><hr><h2 id="moduleä¿¡æ¯ç¿»è¯‘"><a href="#moduleä¿¡æ¯ç¿»è¯‘" class="headerlink" title="moduleä¿¡æ¯ç¿»è¯‘"></a>moduleä¿¡æ¯ç¿»è¯‘</h2><p>æ‰‹åŠ¨åˆ é™¤æ‰€æœ‰ç¿»è¯‘ï¼Œé‡æ–°åŠ è½½ç¿»è¯‘</p><h2 id="é‡å†™æºç çš„å­—æ®µç¿»è¯‘"><a href="#é‡å†™æºç çš„å­—æ®µç¿»è¯‘" class="headerlink" title="é‡å†™æºç çš„å­—æ®µç¿»è¯‘"></a>é‡å†™æºç çš„å­—æ®µç¿»è¯‘</h2><p>ç›´æ¥åœ¨ç»§æ‰¿çš„å°æ¨¡å—i18nä¸­é‡å†™ module:å†™åŸæ¥çš„æˆ–ä½†é’±æ¨¡å—çš„éƒ½å¯ä»¥ æœ€ååœ¨æ•°æ®åº“ä¸­ä¼šè¢«è½¬æ¢æˆå°æ¨¡å—çš„ ä¾‹å¦‚:hrp_account<br>ç¿»è¯‘çš„æ˜¾ç¤ºå€¼ä½¿ç”¨çš„æ˜¯idæœ€å¤§çš„é‚£ä¸€ä¸ªåŒ¹é…å€¼<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#. module: account</span><br><span class="line">#: selection:account.invoice,state:0</span><br><span class="line">msgid &quot;Open&quot;</span><br><span class="line">msgstr &quot;å·²å®¡æ‰¹&quot;</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;ir-translationç®€ç« &quot;&gt;&lt;a href=&quot;#ir-translationç®€ç« &quot; class=&quot;headerlink&quot; title=&quot;ir_translationç®€ç« &quot;&gt;&lt;/a&gt;ir_translationç®€ç« &lt;/h1&gt;&lt;p&gt;[å­—æ®µ]&lt;br&gt;lang&lt;br&gt;src&lt;br&gt;name&lt;br&gt;res_id&lt;br&gt;module&lt;br&gt;state&lt;br&gt;comments&lt;br&gt;value&lt;br&gt;type&lt;br&gt;
    
    </summary>
    
    
      <category term="Odoo" scheme="https://yangtiancheng.github.io/bbs.github.io/tags/Odoo/"/>
    
  </entry>
  
  <entry>
    <title>Odoo-XML</title>
    <link href="https://yangtiancheng.github.io/bbs.github.io/Odoo-XML/"/>
    <id>https://yangtiancheng.github.io/bbs.github.io/Odoo-XML/</id>
    <published>2019-04-05T21:37:51.000Z</published>
    <updated>2019-04-05T14:47:39.561Z</updated>
    
    <content type="html"><![CDATA[<h1 id="xml"><a href="#xml" class="headerlink" title="xml"></a>xml</h1><h2 id="dataæ–‡ä»¶åˆå§‹åŒ–ä¸­çš„çŸ¥è¯†ç‚¹"><a href="#dataæ–‡ä»¶åˆå§‹åŒ–ä¸­çš„çŸ¥è¯†ç‚¹" class="headerlink" title="dataæ–‡ä»¶åˆå§‹åŒ–ä¸­çš„çŸ¥è¯†ç‚¹"></a>dataæ–‡ä»¶åˆå§‹åŒ–ä¸­çš„çŸ¥è¯†ç‚¹</h2><h3 id="1-ç»“æ„"><a href="#1-ç»“æ„" class="headerlink" title="1.ç»“æ„"></a>1.ç»“æ„</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">openerp</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">data</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">record</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">filed</span>&gt;</span><span class="tag">&lt;/<span class="name">filed</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">record</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">data</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">data</span>&gt;</span>...<span class="tag">&lt;/<span class="name">data</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">openerp</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="å±æ€§ç¯‡"><a href="#å±æ€§ç¯‡" class="headerlink" title="å±æ€§ç¯‡"></a>å±æ€§ç¯‡</h2><h3 id="attrs-å…¬å…±å±æ€§"><a href="#attrs-å…¬å…±å±æ€§" class="headerlink" title="attrs(å…¬å…±å±æ€§)"></a>attrs(å…¬å…±å±æ€§)</h3><a id="more"></a><blockquote><p>invisible<br>:å½±è—ç»„ä»¶ã€‚</p></blockquote><blockquote><p>required<br>:ç»„ä»¶å¿…é¡»æœ‰å€¼ã€‚</p></blockquote><blockquote><p>readonly<br>:ç»„ä»¶åªè¯»ä¸å¯ç¼–è¾‘(onchangeè¿‡æ¥çš„å€¼ä¸ä¼šè¢«ä¿å­˜ï¼Œéœ€è¦åœ¨create/writeæ–¹æ³•ä¸­åŠ å…¥åˆ°valsä¸­ï¼Œæˆ–è€…å¼€å‘ä¸ªæ€§åŒ–readonlyå­˜å‚¨æŒ‚ä»¶ï¼Œä¾‹å¦‚:readonly_by_pass)ã€‚</p></blockquote><p style="color:red"><br>å¦‚æœåé¢çš„æ¡ä»¶æ˜¯ç±»ä¼¼domainå½¢å¼çš„ï¼Œé‚£ä¹ˆ[(A,â€™OPâ€™,B)]ä¸­ï¼ŒAæ˜¯ä¸€ä¸ªå¯é€‰çš„å­—æ®µï¼Œä½†æ˜¯è¿™ä¸ªå­—æ®µä¸èƒ½åƒpyä¸­çš„domainï¼Œå®ƒä¸èƒ½ä½¿ç”¨A.bè¿™æ ·çš„å­—æ®µå¼•ç”¨å…³ç³»ã€‚<br>æ‰€ä»¥å¦‚æœæˆ‘ä»¬éœ€è¦æŠŠè¿™æ ·çš„A.bå­—æ®µåœ¨æˆ‘ä»¬çš„æ¨¡å‹ä¸­å®šä¹‰ä¸€ä¸ªrelatedå­—æ®µï¼Œå¹¶æŠŠå®ƒæ”¾åœ¨xmlä¸­ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æ‰€è°“çš„</p><b>è¾…åŠ©å­—æ®µ</b>ã€‚<br><br>&gt; noupdate - forcecreate<br>    noupdate - å±äºdataçš„æ ‡ç­¾å±æ€§<br>    forcecreate - å±äºrecordçš„æ ‡ç­¾å±æ€§<br><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ä½œç”¨ï¼š</span><br><span class="line">    noupdateä¸»è¦ç”¨äºdataå—é‡Œçš„recordè®°å½•åˆå§‹åŒ–ï¼Œè¿™äº›è®°å½•éƒ½ä¼šæœ‰ä¸€ä¸ªExtendIDï¼Œä¹Ÿå°±æ˜¯recordä¸Šæ‰€è°“çš„id,åœ¨ir_module_dataä¸Šå”¯ä¸€ã€‚</span><br><span class="line">    noupdateçš„ä¸»è¦åŠŸèƒ½æ˜¯åˆå§‹åŒ–ä¸€éæ•°æ®ï¼Œå¦‚æœä¹‹åå¯¹XMLæ•°æ®å®šä¹‰ä¿®æ”¹äº†ï¼Œå†å‡çº§ï¼Œè¿™äº›æ•°å€¼æ˜¯ä¸ä¼šå˜åŒ–çš„ï¼Œä¾æ—§ä¿æŒç¬¬ä¸€æ¬¡ä¸Šæ¥çš„æ ·å­ã€‚</span><br><span class="line">    ä½†æ˜¯å¦‚æœä½ åœ¨ç•Œé¢åˆ é™¤äº†åˆå§‹åŒ–çš„æ•°æ®ï¼Œé‚£ä¹ˆä¸‹æ¬¡å‡çº§æ¨¡å—ï¼Œè¿™äº›æ•°æ®å°±ä¼šä»¥ä¿®æ”¹åçš„XMLæ•°æ®ä¸ºåŸºç¡€åˆ›å»ºã€‚</span><br><span class="line">    </span><br><span class="line">    å¦‚æœåªæƒ³æ•°æ®ç¬¬ä¸€æ¬¡åˆå§‹åŒ–è¿›æ¥ï¼Œä»¥åä¸æ”¹å˜ï¼Œå¹¶ä¸”å°±ç®—è¢«åˆ æ‰åï¼Œå¸Œæœ›å‡çº§åä¹Ÿä¸è¦å‡ºç°ï¼Œé‚£ä¹ˆå°±ç»™å¯¹åº”çš„recordè®°å½•ä¸Šï¼Œ</span><br><span class="line">    å†™forcecreate=&apos;false&apos;,è¿™æ ·å°±èƒ½ä¿è¯æ¨¡å—å®‰è£…åˆå§‹åŒ–ä¸Šæ¥çš„æ•°æ®ï¼Œä¸ä¼šè¢«ä»»ä½•æƒ…å†µä¿®æ”¹æ›´æ–°ï¼Œåˆ é™¤åä¸å†åˆ›å»ºã€‚</span><br><span class="line">    </span><br><span class="line">    forcecreateå¿…é¡»ç»‘å®šåœ¨noupdateä¸­æ‰ç”Ÿæ•ˆ,noupdateä¿æŒå·²æœ‰æ•°æ®ä¸æ›´æ–°ï¼Œforcecreateä¿è¯æ•°æ®åˆ é™¤ï¼Œå‡çº§ä¸åˆ›å»ºã€‚</span><br></pre></td></tr></table></figure><br><br><p style="color:red">å¦‚æœåˆ é™¤äº†noupdateå—ä¸­dataæ–‡ä»¶åˆå§‹åŒ–çš„æ•°æ®è®°å½•ï¼Œç„¶åä½ é‡æ–°æ›´æ–°å®ƒä¸é‡ç½®ï¼Œä½ å¯ä»¥çœ‹ä¸€ä¸‹ir_module_dataè¡¨ï¼Œ<br>å¯¹åº”çš„dataå—å¤–éƒ¨idè®°å½•ä¸­ï¼Œnoupdate=True,æŠŠé‚£æ¡è®°å½•åˆ é™¤å†å‡çº§å°±å‡ºæ¥äº†ã€‚</p><h3 id="options-m2oå…³ç³»å­—æ®µå±æ€§"><a href="#options-m2oå…³ç³»å­—æ®µå±æ€§" class="headerlink" title="options(m2oå…³ç³»å­—æ®µå±æ€§)"></a>options(m2oå…³ç³»å­—æ®µå±æ€§)</h3><blockquote><p>no_create_edit<br>:å…³ç³»å­—æ®µä¸å…è®¸åœ¨å½“å‰ç•Œé¢åˆ›å»ºè¿™ä¸ªå­—æ®µå¯¹åº”çš„æ¨¡å‹è®°å½•ã€‚</p></blockquote><blockquote><p>no_create<br>:ä¸å…è®¸ç›´æ¥åœ¨å½“å‰ç•Œé¢åˆ›å»ºå­—æ®µå¯¹åº”çš„æ¨¡å‹è®°å½•(ä»ä»£ç ä¸­çœ‹no_create_editå’Œno_createé€»è¾‘ä¸€æ ·)ã€‚</p></blockquote><blockquote><p>no_open<br>:ä¸å…è®¸æ‰“å¼€å…³ç³»å­—æ®µåé¢å¯¹åº”çš„å•æ®ã€‚</p></blockquote><h5 style="color:red;">æ³¨æ„ï¼šæœ€å¥½ç”¨no_open:True/Falseï¼Œä¸è¦è¿‡åº¦ä½¿ç”¨no_open:â€™0â€™/â€˜1â€™,ç»è¿‡æµ‹è¯•[â€˜0â€™ == â€˜1â€™ == True]</h5><h3 id="options-o2må…³ç³»å­—æ®µå±æ€§"><a href="#options-o2må…³ç³»å­—æ®µå±æ€§" class="headerlink" title="options(o2må…³ç³»å­—æ®µå±æ€§)"></a>options(o2må…³ç³»å­—æ®µå±æ€§)</h3><blockquote><p>no_edit_no_open<br>:å…³ç³»å­—æ®µä¸å…è®¸åœ¨å½“å‰ç•Œæ‰“å¼€å¯¹åº”è®°å½•çš„formç•Œé¢ã€‚</p></blockquote><h3 id="æ‰¹é‡æ·»åŠ "><a href="#æ‰¹é‡æ·»åŠ " class="headerlink" title="æ‰¹é‡æ·»åŠ "></a>æ‰¹é‡æ·»åŠ </h3><blockquote><p>1.batch_add(æ–°å¼€å‘jsæŒ‚ä»¶éåŸç”Ÿ)</p></blockquote><pre><code>ç›´æ¥åœ¨o2mçš„XMLå­—æ®µå±æ€§ä¸ŠæŒ‚è½½batch_add=&quot;true&quot;å³å¯ã€‚</code></pre><blockquote><p>2.ids_select</p></blockquote><pre><code>è¿™ä¸ªæ¯”è¾ƒå¤æ‚:1.é¦–å…ˆåœ¨pyæ–‡ä»¶çš„å¤´è¡Œç»“æ„ä¸­ï¼Œå®šä¹‰ä¸€ä¸ªå¤´å­—æ®µids_select,å­—æ®µå±æ€§å®šä¹‰å¦‚ä¸‹:ids_select = fields.Char(string=&apos;ids&apos;, help=&apos;This id is to get ids of multiple select of one2many&apos;)2.ç„¶åå†XMLçš„å¤´éƒ¨æ”¾å…¥ids_selectå­—æ®µï¼Œå¯å½±è—ï¼Œå­—æ®µå®šä¹‰å¦‚ä¸‹:&lt;field name=&quot;ids_select&quot; class=&quot;oe_o2mx&quot; invisible=&quot;1&quot; on_change=&quot;updateLines(ids_select,o2m_filed,context)&quot;/&gt;3.ç»‘å®šå¯¹åº”çš„o2må­—æ®µï¼Œå°†æŒ‚ä»¶ widget=&quot;o2mx&quot; åŠ åˆ°XMLå­—æ®µå±æ€§å®šä¹‰ä¸­ã€‚å¯¹åº”éœ€o2m_filedçš„treeä¸Šè¦æ‰¹é‡æ·»åŠ çš„ä¸»ä½“å­—æ®µ(m2o_field)æŒ‚è½½ multiple_selection=&quot;true&quot; å±æ€§ã€‚4.å¯¹ids_selectå®šä¹‰on_changeçš„æ–¹æ³•updateLinesè¿›è¡Œé€»è¾‘å¤„ç†:- é€šç”¨ç»“æ„:    if not ids_select: return 0    selected_ids = ids_select.split(&apos;,&apos;)    if len(o2m_filed) == 1:        change_line = False        o2m_filed = self.o2m_filed.browse(o2m_filed[0][2])    else:        change_line = True        o2m_filed = map(lambda x: x[2], filter(lambda x: x[2], o2m_filed))    res = []    old_value = []    add_ids = []    line_number = 0    for line in o2m_filed:        line_number += 1        m2o_field = change_line and line[&apos;m2o_field&apos;] or line.m2o_field.id        old_value.append({            &apos;line_number&apos;:line_number,            &apos;m2o_field&apos;: m2o_field,            &apos;field1&apos;: field1,            &apos;field2&apos;: field2,            &apos;field3&apos;: field3,            ...        })        add_ids.append(m2o_field)    for id in selected_ids:        line = self.env[&apos;selected_ids_model&apos;].browse(int(id))        if int(id) not in add_ids:            line_number += 1            res.append({                &apos;line_number&apos;: line_number,                &apos;m2o_field&apos;: line.m2o_field.id or False,                &apos;field1&apos;: line.field1,                &apos;field2&apos;: line.field2,                &apos;field3&apos;: line.field3,                ...            })    if res:        return {&apos;value&apos;: {&apos;invoice_detail_ids&apos;: old_value + res}}-</code></pre><h3 id="æ™®é€š"><a href="#æ™®é€š" class="headerlink" title="æ™®é€š"></a>æ™®é€š</h3><blockquote><p>è‡ªåŠ¨é€’å¢ é€’å¢é—´éš” æœ€å¼€å§‹çš„å€¼</p></blockquote><field name="line_number" required="1" options="{'line_number':1,'interval':10,'initial':10}"><h3 id="Domain"><a href="#Domain" class="headerlink" title="Domain"></a>Domain</h3><ul><li>XMLå®šä¹‰çš„domainä¼šè¦†ç›–å­—æ®µå®šä¹‰çš„domain</li></ul><h3 id="ir-actions-act-window"><a href="#ir-actions-act-window" class="headerlink" title="ir.actions.act_window"></a>ir.actions.act_window</h3><p>[å‚æ•°]</p><p>src_modelï¼š</p><blockquote><p>æ¥æºæ¨¡å‹<br><br>è¿™ä¸ªåŠ¨ä½œåº”è¯¥æ”¾åœ¨å“ªä¸ªå¯è§çš„å¯¹è±¡å¯é€‰æ¨¡å‹åç§°(ç»‘å®šåˆ°å“ªä¸ªæ¨¡å‹ä¸Šæ˜¾ç¤º)</p></blockquote><p>res_modelï¼š</p><blockquote><p>ç›®æ ‡æ¨¡å‹<br><br>åœ¨è§†å›¾çª—å£ä¸­æ‰“å¼€çš„å¯¹è±¡çš„æ¨¡å‹åç§°(æ‰“å¼€çš„wizardæ¨¡å‹)</p></blockquote><p>context:</p><blockquote><p>search_default_å­—æ®µåç§°:</p></blockquote><blockquote><p>display_filter:<br><br>åœ¨wizardçš„actionä¸Šå®šä¹‰å¦‚: context=â€{â€˜display_filterâ€™:â€™invoice_form_viewâ€™}â€<br><br>åœ¨å¯¹åº”çš„ç»‘å®šæ¨¡å‹ä¸­çš„contextä¸­å†™å…¥å¦‚ï¼šcontext=â€{â€˜invoice_form_viewâ€™:1â€™}â€<br><br>å¯¹åº”ç»‘å®šçš„actionåœ¨é™åˆ¶äº†view_id,é‚£ä¹ˆè¿™ä¸ªwizardå°±å”¯ä¸€ç»‘å®šåœ¨äº†è¿™ä¸ªå¯¹åº”çš„è§†å›¾ä¸Š,åŒæ¨¡å‹çš„å…¶ä»–è§†å›¾ä¸Šä¸æ˜¾ç¤º(ä¸€æ¨¡å‹å¤šèœå•å¤šè§†å›¾æ¨¡å¼)ã€‚</p></blockquote><blockquote><p>execute_method:<br><br>åœ¨wizardçš„actionä¸Šå®šä¹‰å¦‚: context=â€{â€˜execute_methodâ€™:â€™invoice_execute_methodâ€™}â€<br><br>è§¦å‘actionæ—¶ä¼šç›´æ¥æ‰§è¡Œinvoice_execute_methodæ–¹æ³•ï¼Œä½†æ˜¯æ‰§è¡Œäº†è¿™ä¸ªæ–¹æ³•å°±ä¸ä¼šç›´æ¥è·³è½¬è§†å›¾äº†ï¼Œä½ éœ€è¦åœ¨æ‰§è¡Œçš„æ–¹æ³•ä¸­returnè·³è½¬è§†å›¾çš„actionã€‚</p></blockquote><blockquote><p>â€˜clear_breadcrumbsâ€™<br>  â€˜clear_breadcrumbsâ€™:Trueå¯ä»¥åœ¨è§†å›¾ä¸Šéšè—åˆ—æ ‡é¢˜ã€‚</p></blockquote><p>res_model:</p><blockquote><p>ç›®æ ‡æ¨¡å‹<br></p></blockquote><p>src_model:</p><blockquote><p>åŸå§‹æ¨¡å‹<br></p></blockquote><p>views:</p><blockquote><p>å®šä¹‰è§†å›¾ç±»åˆ«å¼•ç”¨ref</p></blockquote><p>view_id:</p><blockquote><p>å®šä¹‰é»˜è®¤æ‰“å¼€è§†å›¾å¼•ç”¨ref</p></blockquote><h3 id="ir-actions-act-window-view"><a href="#ir-actions-act-window-view" class="headerlink" title="ir.actions.act_window.view"></a>ir.actions.act_window.view</h3><blockquote><p>æ­¤æ¨¡å‹å®é™…æ˜¯view_idsçš„ç»‘å®šæ¨¡å‹,å¯ä»¥é€šè¿‡åˆå§‹åŒ–act_windowçš„view_idsæŒ‚åœ¨å±æ€§å€¼,æ¥æ§åˆ¶å¤šä¸ªèœå•å…¬ç”¨ä¸€ä¸ªmodel,ä½†æ˜¯æ‰“å¼€çš„æ˜¯å¯¹åº”çš„treeã€formã€<br>searchç­‰æ¨¡å‹ã€‚<br><!--ä¸¾ä¸ªä¾‹å­ actionå›ºå®šç»‘å®šè§†å›¾å¼•ç”¨å¯¹è±¡--></p></blockquote><p>1.å®šä¹‰ä¸€ä¸ªaction<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">record</span> <span class="attr">model</span>=<span class="string">"ir.actions.act_window"</span> <span class="attr">id</span>=<span class="string">"hrp_payment_preparation_action"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"name"</span>&gt;</span>Payment Preparation<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"res_model"</span>&gt;</span>hrp.payment.request<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"view_type"</span>&gt;</span>form<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"view_mode"</span>&gt;</span>tree,form<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"search_view_id"</span> <span class="attr">ref</span>=<span class="string">"hrp_payment_preparation_search"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"domain"</span>&gt;</span>[('state','in',['approved','paying','paid'])]<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"context"</span>&gt;</span>&#123;'readonly_by_pass':['company_id','total_amount','invoice_detail_ids','supplier_id','supplier_category_id',</span><br><span class="line">        'invoice_date','date_due','payment_method_id','original_amount','open_amount']&#125;<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">record</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p>2.åœ¨actionä¸Šç»‘å®šå¯¹åº”ç±»å‹çš„è§†å›¾å¤–éƒ¨å¼•ç”¨å¯¹è±¡<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ä¾›åº”å•†é¢„ä»˜æ¬¾ç”³è¯·ç•Œé¢treeè§†å›¾æŒ‡å®š--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">record</span> <span class="attr">id</span>=<span class="string">"hrp_payment_preparation_tree_view"</span> <span class="attr">model</span>=<span class="string">"ir.actions.act_window.view"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">eval</span>=<span class="string">"1"</span> <span class="attr">name</span>=<span class="string">"sequence"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"view_mode"</span>&gt;</span>tree<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"view_id"</span> <span class="attr">ref</span>=<span class="string">"hrp_payment_preparation_tree"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"act_window_id"</span> <span class="attr">ref</span>=<span class="string">"hrp_payment_preparation_action"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">record</span>&gt;</span></span><br></pre></td></tr></table></figure></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ä¾›åº”å•†é¢„ä»˜æ¬¾ç”³è¯·ç•Œé¢formè§†å›¾æŒ‡å®š--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">record</span> <span class="attr">id</span>=<span class="string">"hrp_payment_preparation_form_view"</span> <span class="attr">model</span>=<span class="string">"ir.actions.act_window.view"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">eval</span>=<span class="string">"2"</span> <span class="attr">name</span>=<span class="string">"sequence"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"view_mode"</span>&gt;</span>form<span class="tag">&lt;/<span class="name">field</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"view_id"</span> <span class="attr">ref</span>=<span class="string">"hrp_payment_preparation_form"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">field</span> <span class="attr">name</span>=<span class="string">"act_window_id"</span> <span class="attr">ref</span>=<span class="string">"hrp_payment_preparation_action"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">record</span>&gt;</span></span><br></pre></td></tr></table></figure><p>3.è¿™æ—¶å€™å°±ç®—ä¸€ä¸ªmodelä¸Šæœ‰å¤šä¸ªtreeè§†å›¾ã€å¤šä¸ªformè§†å›¾,ç”šè‡³æ˜¯å¤šä¸ªsearchè§†å›¾ç­‰,åªè¦ç»‘å®šå¥½å°±ä¼šç›´æ¥æ‰“å¼€å¯¹åº”çš„è§†å›¾ç•Œé¢,ä¸ä¼šæ‰“å¼€é”™å’¯.</p><p>4.å¦‚æœå‡ºç°è®°å½•å•æ®è¢«é€šè¿‡M2Oå­—æ®µé“¾æ¥çš„å½¢å¼è·³è½¬è¿‡å»ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½å‡ºç°é”™è¯¯ï¼Œå› ä¸ºç‚¹å‡»äº‹ä»¶è°ƒç”¨äº†get_formview_actionæ–¹æ³•ï¼Œé»˜è®¤è·å–å¯¹åº”ç±»å‹è§†å›¾çš„viewç•Œé¢ï¼Œ<br>ä¸ºäº†åœ¨è¿™ç§æƒ…å†µä¸‹ä¸å‡ºç°é”™è¯¯ï¼Œæˆ‘ä»¬å¿…é¡»é‡å†™get_formview_actionæ–¹æ³•ï¼Œæä¾›æ­£ç¡®çš„returnå¯¼å‘ï¼Œä¹Ÿè®¸è¿™é‡Œæ˜¯ç”¨çš„odoo7çš„å†™æ³•ï¼Œåœ¨æ–°å†™æ³•ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡å°è£…@api.v7è£…é¥°å™¨ï¼Œ<br>æ¥é‡è½½æ–¹æ³•ï¼Œè¾¾åˆ°æˆ‘ä»¬çš„ç›®çš„ã€‚</p></field>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;xml&quot;&gt;&lt;a href=&quot;#xml&quot; class=&quot;headerlink&quot; title=&quot;xml&quot;&gt;&lt;/a&gt;xml&lt;/h1&gt;&lt;h2 id=&quot;dataæ–‡ä»¶åˆå§‹åŒ–ä¸­çš„çŸ¥è¯†ç‚¹&quot;&gt;&lt;a href=&quot;#dataæ–‡ä»¶åˆå§‹åŒ–ä¸­çš„çŸ¥è¯†ç‚¹&quot; class=&quot;headerlink&quot; title=&quot;dataæ–‡ä»¶åˆå§‹åŒ–ä¸­çš„çŸ¥è¯†ç‚¹&quot;&gt;&lt;/a&gt;dataæ–‡ä»¶åˆå§‹åŒ–ä¸­çš„çŸ¥è¯†ç‚¹&lt;/h2&gt;&lt;h3 id=&quot;1-ç»“æ„&quot;&gt;&lt;a href=&quot;#1-ç»“æ„&quot; class=&quot;headerlink&quot; title=&quot;1.ç»“æ„&quot;&gt;&lt;/a&gt;1.ç»“æ„&lt;/h3&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;openerp&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;data&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;record&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;filed&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;filed&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;record&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;data&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;data&lt;/span&gt;&amp;gt;&lt;/span&gt;...&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;data&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ...&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;openerp&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;h2 id=&quot;å±æ€§ç¯‡&quot;&gt;&lt;a href=&quot;#å±æ€§ç¯‡&quot; class=&quot;headerlink&quot; title=&quot;å±æ€§ç¯‡&quot;&gt;&lt;/a&gt;å±æ€§ç¯‡&lt;/h2&gt;&lt;h3 id=&quot;attrs-å…¬å…±å±æ€§&quot;&gt;&lt;a href=&quot;#attrs-å…¬å…±å±æ€§&quot; class=&quot;headerlink&quot; title=&quot;attrs(å…¬å…±å±æ€§)&quot;&gt;&lt;/a&gt;attrs(å…¬å…±å±æ€§)&lt;/h3&gt;
    
    </summary>
    
    
      <category term="Odoo-XML" scheme="https://yangtiancheng.github.io/bbs.github.io/tags/Odoo-XML/"/>
    
  </entry>
  
</feed>
